<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>YMovie</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="noindex">
	<style>@keyframes pair-blink{50%{opacity:.5}}body,html{margin:0;height:100%}html{padding:0;font-size:2vw}body{box-sizing:border-box;background:#000 url(bg.webp) no-repeat center/cover;font-family:sans-serif;letter-spacing:-.04em;line-height:1.3;color:#fff;overflow:hidden}*,:after,:before{box-sizing:inherit;cursor:default}input::placeholder{font-family:inherit;font-size:inherit;color:inherit;opacity:.5}button{font-size:inherit}h1,h2{font-size:2rem;margin:0 0 .2em;line-height:1em}h2{font-size:1.4rem}p{margin:0}button:focus{outline:0}.focused,button:focus.focused{outline:.2rem solid #fec401}.MediaScreenBase .Row .Item.loading::after,.PlayerScreen.loading::after,.SearchScreen.loading input,.webshare-ok .Detail .Stream.loading{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="32" stroke-width="8" stroke="%23fec401" stroke-dasharray="50.26548245743669 50.26548245743669" fill="none" stroke-linecap="round" transform="rotate(68.1026 50 50)"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="0 50 50;360 50 50"></animateTransform></circle></svg>')!important}.Header{position:absolute;top:1.5rem;left:2.5rem;white-space:nowrap}.Header div{display:inline-block;vertical-align:middle;border-radius:1rem;padding:.25rem 1rem;margin-right:.5rem}.Header.focused{outline:0}.screen-about .Header .about,.screen-media .Header .media,.screen-search .Header .search,.screen-setup .Header .setup{background:#fff;color:#000}.screen-about .Header.focused .about,.screen-media .Header.focused .media,.screen-search .Header.focused .search,.screen-setup .Header.focused .setup{box-shadow:0 0 0 .2rem #fec401}.Screen,.screen-player .Header{display:none}.Screen{position:absolute;padding:4rem 2.5rem 1.5rem;left:0;top:0;right:0;bottom:0}.screen-about .AboutScreen,.screen-media .MediaScreen,.screen-player .PlayerScreen,.screen-search .SearchScreen,.screen-setup .SetupScreen{display:block}.MediaScreenBase .rows,.MediaScreenBase>.Navigation{position:absolute;top:calc(100% - 11rem)}.MediaScreenBase .Row,.MediaScreenBase .rows{transition:transform .5s;-webkit-transition:all .5s;will-change:transform;backface-visibility:hidden}.MediaScreenBase .Row{white-space:nowrap;transition:transform .5s,opacity .5s;will-change:transform,opacity;margin-bottom:1rem}.MediaScreenBase .Row.focused,.MediaScreenBase .Row:not(.focused) .focused{outline:0}.MediaScreenBase .Row.down,.MediaScreenBase .Row.up{opacity:0;pointer-events:none}.MediaScreenBase .Row .Item{width:5rem;height:7.5rem;background:linear-gradient(180deg,#222 50%,#000 100%);display:inline-block;vertical-align:middle;margin-right:1rem;overflow:hidden;position:relative}.MediaScreenBase .Row .Item:not(.loading).animated,.MediaScreenBase .Row .Item:not(.loading).concert,.MediaScreenBase .Row .Item:not(.loading).fairyTale,.MediaScreenBase .Row .Item:not(.loading).movie,.MediaScreenBase .Row .Item:not(.loading).popular,.MediaScreenBase .Row .Item:not(.loading).series,.MediaScreenBase .Row .Item:not(.loading).watched{background:no-repeat center 35%,no-repeat;background-size:50%,100%}.MediaScreenBase .Row .Item:not(.loading).movie{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 332.804 332.804" ><path fill="%23fec401" d="M330.804,171.002c-3.6-6.4-12-8.8-18.8-4.8l-45.6,26.4l-11.6,6.8v63.2l10.8,6.4c0.4,0,0.4,0.4,0.8,0.4l44.8,26 c2,1.6,4.8,2.4,7.6,2.4c7.6,0,13.6-6,13.6-13.6v-53.6l0.4-52.8C332.804,175.402,332.404,173.002,330.804,171.002z"/><path fill="%23fec401" d="M64.404,150.602c35.6,0,64.4-28.8,64.4-64.4c0-35.6-28.8-64.4-64.4-64.4s-64.4,28.8-64.4,64.4 C-0.396,121.802,28.804,150.602,64.404,150.602z M64.404,59.802c14.8,0,26.4,12,26.4,26.4c0,14.8-12,26.4-26.4,26.4 c-14.4,0-26.4-12-26.4-26.4C37.604,71.402,49.604,59.802,64.404,59.802z"/><path fill="%23fec401" d="M227.604,154.202c-10.4,5.2-22,8.4-34.4,8.4c-15.2,0-29.6-4.4-41.6-12.4h-45.6c-12,8-26.4,12.4-41.6,12.4 c-12.4,0-24-2.8-34.4-8.4c-9.2,5.2-15.6,15.6-15.6,26.8v97.6c0,18,14.8,32.4,32.4,32.4h164.4c18,0,32.4-14.8,32.4-32.4v-97.6 C243.204,169.802,236.804,159.402,227.604,154.202z"/><path fill="%23fec401" d="M193.204,150.602c35.6,0,64.4-28.8,64.4-64.4c0-35.6-28.8-64.4-64.4-64.4c-35.6,0-64.4,28.8-64.4,64.4 C128.804,121.802,157.604,150.602,193.204,150.602z M193.204,59.802c14.8,0,26.4,12,26.4,26.4c0,14.8-12,26.4-26.4,26.4 c-14.4,0-26.4-12-26.4-26.4C166.804,71.402,178.404,59.802,193.204,59.802z"/></svg>'),linear-gradient(180deg,#222 50%,#000 100%)}.MediaScreenBase .Row .Item:not(.loading).series{background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"%23fec401\" d=\"M22 4v12h-20v-12h20zm2-2h-24v16h24v-16zm-7 18h-10v2h10v-2z\"/></svg>'),linear-gradient(180deg,#222 50%,#000 100%)}.MediaScreenBase .Row .Item:not(.loading).concert{background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\"><path fill=\"%23fec401\" d=\"m506.25 3.191406c-3.632812-2.84375-8.367188-3.859375-12.847656-2.753906l-112.683594 27.832031c-6.699219 1.65625-11.40625 7.664063-11.40625 14.566407v42.421874c0 3.980469 1.582031 7.792969 4.394531 10.609376l-84.851562 84.851562 42.425781 42.425781 84.851562-84.851562c2.816407 2.8125 6.628907 4.394531 10.609376 4.394531 3.976562 0 7.792968-1.582031 10.605468-4.394531l70.257813-70.261719c2.816406-2.8125 4.394531-6.625 4.394531-10.605469v-42.425781c0-4.613281-2.121094-8.964844-5.75-11.808594zm0 0\"/><path fill=\"%23fec401\" d=\"m244.660156 178.949219c-3.335937-3.335938-8.054687-4.910157-12.726562-4.242188-4.675782.667969-8.761719 3.496094-11.03125 7.636719l-10.964844 19.996094c-.667969.148437-2.542969-.046875-4.421875-1.921875-4.773437-4.773438-12.148437-5.773438-18.015625-2.433594l-169.792969 96.515625c-11.636719 6.613281-18.398437 19.019531-17.6523435 32.382812.7500005 13.363282 8.8593745 24.941407 21.1601565 30.210938l93.582031 40.109375 40.105469 93.582031c5.273437 12.300782 16.847656 20.410156 30.210937 21.15625.675781.039063 1.34375.058594 2.007813.058594 12.589844 0 24.097656-6.65625 30.378906-17.707031l96.515625-169.792969c3.335937-5.871094 2.339844-13.246094-2.433594-18.019531-1.878906-1.878907-2.070312-3.753907-1.921875-4.417969l19.992188-10.964844c4.140625-2.269531 6.96875-6.359375 7.636718-11.03125.667969-4.675781-.902343-9.390625-4.242187-12.730468zm-40.660156 192.6875c-2.925781 2.929687-6.765625 4.394531-10.605469 4.394531-3.835937 0-7.675781-1.464844-10.605469-4.394531l-42.425781-42.425781c-5.859375-5.859376-5.859375-15.355469 0-21.214844 5.855469-5.855469 15.355469-5.855469 21.210938 0l42.429687 42.429687c5.855469 5.855469 5.855469 15.355469-.003906 21.210938zm42.429688-42.425781c-2.929688 2.929687-6.769532 4.394531-10.605469 4.394531-3.839844 0-7.679688-1.464844-10.609375-4.394531l-42.425782-42.425782c-5.855468-5.859375-5.855468-15.355468 0-21.214844 5.859376-5.855468 15.355469-5.855468 21.214844 0l42.425782 42.425782c5.855468 5.859375 5.855468 15.355468 0 21.214844zm0 0\"/></svg>'),linear-gradient(180deg,#222 50%,#000 100%)}.MediaScreenBase .Row .Item:not(.loading).fairyTale{background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 493.46 493.46\"><path fill=\"%23fec401\" d=\"M397.564,62.201c0-1.62-1.084-3.03-2.656-3.434L254.697,22.856V8.294c0-4.584-3.707-8.294-8.293-8.294 c-4.585,0-8.292,3.718-8.292,8.294l0.015,125.786h-5.799c-1.961,0-3.548,1.588-3.548,3.539v38.398H197.68V137.62 c0-1.952-1.588-3.539-3.549-3.539h-28.152c-1.959,0-3.547,1.588-3.547,3.539v38.398h-13.719h-17.381V137.62 c0-1.952-1.588-3.539-3.547-3.539H99.632c-1.959,0-3.547,1.588-3.547,3.539v38.398v16.117v16.83V237.7 c0,8.86,7.175,16.036,16.036,16.036h23.407L96.149,474.606c-0.842,4.673,0.438,9.476,3.482,13.112 c3.047,3.636,7.55,5.742,12.295,5.742h268.955c4.745,0,9.248-2.105,12.294-5.742c3.044-3.637,4.324-8.44,3.481-13.112 L357.28,253.736h23.405c8.862,0,16.038-7.176,16.038-16.036v-28.735v-16.83v-16.117V137.62c0-1.952-1.588-3.539-3.548-3.539h-28.152 c-1.961,0-3.547,1.588-3.547,3.539v38.398h-17.38h-13.722V137.62c0-1.952-1.586-3.539-3.547-3.539h-28.152 c-1.961,0-3.548,1.588-3.548,3.539v38.398h-31.1V137.62c0-1.952-1.588-3.539-3.547-3.539h-5.768l-0.017-32.534l140.211-35.911 C396.48,65.231,397.564,63.821,397.564,62.201z M284.6,333.917v69.434h-76.375v-69.434c0-21.09,17.09-38.186,38.195-38.186 C267.51,295.73,284.6,312.827,284.6,333.917z\"/></svg>'),linear-gradient(180deg,#222 50%,#000 100%)}.MediaScreenBase .Row .Item:not(.loading).animated{background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 60 60\"><path fill=\"%23fec401\" d=\"M10.282,36.791V22.13c1.23-0.532,2.767-1.421,4.196-2.885c1.407,0.73,4.807,2.158,10.707,2.729l0.565,0.055l0.337-0.457 c0.028-0.039,2.953-3.899,10.351-3.899c1.022,0,2.095,0.075,3.194,0.224c0.663,1.147,2.59,3.776,6.349,3.776 c1.346,0,2.787-0.35,4.301-1.042V36.35l1.698-1.654c0.233-0.227,5.698-5.684,4.292-15.853c-0.563-4.082-2.323-7.605-4.825-9.668 c-0.644-0.531-1.116-1.365-1.402-2.479c-0.827-3.209-3.847-5.451-7.694-5.714c-2.152-0.146-3.992,0.515-6.028,1.331 c-0.102,0.041-0.256,0.007-0.277-0.05C35.495,0.804,34.117,0,32.163,0c-3.021,0-6.896,1.86-10.129,4.811 c0.006-0.889,0.192-1.685,0.695-1.937l1.685-0.843l-1.642-0.923c-0.074-0.042-1.842-1.021-4.162-1.021 c-1.94,0-3.681,0.661-5.172,1.966c-1.237,1.081-2.136,2.595-2.599,4.377c-0.095,0.364-0.191,0.755-0.277,1.139 c-0.043,0.189-0.219,0.24-0.306,0.24c-0.103,0-0.157-0.052-0.224-0.132c-0.458-0.559-1.13-0.88-1.844-0.88 c-0.932,0-1.739,0.53-2.107,1.385c-1.987,4.612-5.728,16.421,2.425,26.43L10.282,36.791z\"/><path fill=\"%23fec401\" d=\"M48.282,41.09V23.414c-0.784,0.172-1.553,0.259-2.301,0.259c-3.98,0-6.344-2.295-7.509-3.898 c-0.698-0.067-1.38-0.102-2.034-0.102c-6.22,0-8.663,2.989-8.764,3.116l-0.987,1.34l-1.694-0.164 c-4.868-0.471-8.166-1.509-10.139-2.34c-0.795,0.673-1.654,1.26-2.572,1.756v19.032l-4-4.911v13.477c0,2.757,2.243,5,5,5h3v1.694 c0,1.271,1.034,2.306,2.306,2.306h23.389c1.271,0,2.306-1.034,2.306-2.306v-1.694h3c2.757,0,5-2.243,5-5V37.193L48.282,41.09z M17.423,35.07c-0.91-0.795-1.535-1.807-1.808-2.924c-0.181-0.739-0.144-1.234-0.113-1.438C15.713,28.591,17.353,27,19.331,27 c0.972,0,1.867,0.366,2.546,1.006C22.571,27.371,23.49,27,24.467,27c1.977,0,3.617,1.591,3.829,3.708 c0.031,0.204,0.068,0.699-0.113,1.439c-0.272,1.116-0.898,2.128-1.809,2.925l-3.855,3.321c-0.188,0.161-0.42,0.242-0.653,0.242 c-0.235,0-0.471-0.083-0.659-0.248L17.423,35.07z M30.976,53.5c-5.79,0-10.5-4.71-10.5-10.5c0-0.553,0.448-1,1-1h19 c0.552,0,1,0.447,1,1C41.476,48.79,36.766,53.5,30.976,53.5z M46.183,32.147c-0.272,1.116-0.898,2.128-1.809,2.925l-3.855,3.321 c-0.188,0.161-0.42,0.242-0.653,0.242c-0.235,0-0.471-0.083-0.659-0.248l-3.785-3.317c-0.91-0.795-1.535-1.807-1.808-2.924 c-0.181-0.739-0.144-1.234-0.113-1.438C33.713,28.591,35.353,27,37.331,27c0.972,0,1.867,0.366,2.546,1.006 C40.571,27.371,41.49,27,42.467,27c1.977,0,3.617,1.591,3.829,3.708C46.327,30.912,46.364,31.407,46.183,32.147z\"/></svg>'),linear-gradient(180deg,#222 50%,#000 100%)}.MediaScreenBase .Row .Item:not(.loading).popular{background-image:url('data:image/svg+xml;utf8,<svg width=\"512\" height=\"512\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"%23fec401\" d=\"m374.686 190.48-27.697-43.868-51.839-2.053c-12.398-.491-18.879-15.03-10.941-24.576l33.161-39.898-14.067-49.937c-3.363-11.941 8.46-22.601 19.992-18l48.192 19.209 43.146-28.81c10.321-6.889 24.107 1.062 23.298 13.451l-3.377 51.77 40.732 32.132c9.742 7.686 6.438 23.255-5.593 26.314l-50.28 12.786-17.972 48.667c-4.286 11.61-20.107 13.34-26.755 2.813z\"/><path fill=\"%23fec401\" d=\"m91.011 422.022c8.284 0 15 6.716 15 15v60c0 8.284-6.716 15-15 15h-76c-8.28 0-15-6.72-15-15v-60c0-8.28 6.72-15 15-15z\"/><path fill=\"%23fec401\" d=\"m226.011 362.022c8.284 0 15 6.716 15 15v120c0 8.284-6.716 15-15 15h-75c-8.284 0-15-6.716-15-15v-120c0-8.28 6.72-15 15-15z\"/><path fill=\"%23fec401\" d=\"m361.011 302.022c8.284 0 15 6.716 15 15v180c0 8.284-6.716 15-15 15h-75c-8.284 0-15-6.716-15-15v-180c0-8.28 6.72-15 15-15z\"/><path fill=\"%23fec401\" d=\"m512.011 497.022c0 8.284-6.716 15-15 15h-76c-8.284 0-15-6.716-15-15v-240c0-8.284 6.716-15 15-15h76c8.284 0 15 6.716 15 15z\"/><path fill=\"%23fec401\" d=\"m76.011 332.022c-8.284 0-15-6.716-15-15 0-24.813 20.187-45 45-45h60c8.271 0 15-6.729 15-15 0-24.813 20.187-45 45-45h60c8.271 0 15-6.729 15-15 0-8.284 6.716-15 15-15s15 6.716 15 15c0 24.813-20.187 45-45 45h-60c-8.271 0-15 6.729-15 15 0 24.813-20.187 45-45 45h-60c-8.271 0-15 6.729-15 15 0 8.285-6.716 15-15 15z\"/></svg>'),linear-gradient(180deg,#222 50%,#000 100%)}.MediaScreenBase .Row .Item:not(.loading).watched{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 932.15 932.15"><path fill="%23fec401" d="M466.075,161.525c-205.6,0-382.8,121.2-464.2,296.1c-2.5,5.3-2.5,11.5,0,16.9c81.4,174.899,258.601,296.1,464.2,296.1 s382.8-121.2,464.2-296.1c2.5-5.3,2.5-11.5,0-16.9C848.875,282.725,671.675,161.525,466.075,161.525z M466.075,676.226 c-116.1,0-210.1-94.101-210.1-210.101c0-116.1,94.1-210.1,210.1-210.1c116.1,0,210.1,94.1,210.1,210.1 S582.075,676.226,466.075,676.226z"/><circle fill="%23fec401" cx="466.075" cy="466.025" r="134.5"/></svg>'),linear-gradient(180deg,#222 50%,#000 100%)}.MediaScreenBase .Row .Item.loading::after{content:"";position:absolute;left:0;top:0;bottom:0;right:0;background:no-repeat center 40%/3rem}.MediaScreenBase.focus-detail .Row{opacity:0}.MediaScreenBase .Row .Item .label{position:absolute;bottom:.5rem;left:.5rem;right:.5rem;text-align:center;font-size:.8rem;white-space:initial}.MediaScreenBase .Row .Item img{position:absolute;width:100%;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%)}.MediaScreenBase .Row .Item img.error,.MediaScreenBase .Row .Item img.missing{width:50%}.MediaScreenBase>.Navigation{left:2.5rem;right:2.5rem}.MediaScreenBase:not(.focus-detail) .Detail .Navigation span,.MediaScreenBase:not(.focus-rows)>.Navigation span{opacity:0!important}.MediaScreenBase>.Navigation span.left{left:0;top:2.55rem}.MediaScreenBase>.Navigation span.right{right:0;top:2.55rem}.MediaScreenBase>.Navigation span.up{top:0;left:calc(50% - 1.2rem)}.MediaScreenBase>.Navigation span.down{top:5.5rem;left:calc(50% - 1.2rem)}.Detail,.Detail .Background{transition:opacity .5s;-webkit-transition:opacity .5s;will-change:opacity}.Detail{padding-right:40%}.Detail .Background{position:absolute;left:0;top:0;right:0;bottom:0;background:#000;opacity:0}.Detail .Background img{opacity:.5}@supports (filter:brightness(.5)){.Detail .Background{filter:brightness(.5)}.Detail .Background img{opacity:initial}}.Detail .Background img{position:absolute;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);left:50%;top:50%;min-height:100%;min-width:100%}.Detail .Background.visible{opacity:1}.Detail h2{margin:-.1rem 0 .6rem}.Detail>.extra{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.8rem;line-height:1.3rem}.Detail .duration,.Detail .rating,.Detail .year{margin-right:1.5rem}.Detail .rating{padding:0 0 0 1.2rem;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23fec401" d="M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"/></svg>') no-repeat 0/1rem}.Detail .container{-webkit-mask:linear-gradient(to bottom,#fff 10rem,transparent 13rem);mask:linear-gradient(to bottom,#fff 10rem,transparent 13rem)}.MediaScreenBase.focus-detail .rows,.MediaScreenBase:not(.focus-detail) .Detail{pointer-events:none}.focus-detail .Detail .container{-webkit-mask:linear-gradient(to bottom,#fff 20rem,transparent 23rem);mask:linear-gradient(to bottom,#fff 20rem,transparent 23rem)}.Detail .container p{clear:both;margin-top:.5rem}.Detail .Streams{position:absolute;left:calc(60% + 1rem);top:4rem;right:2.5rem;transition:transform .5s;-webkit-transition:all .5s;will-change:transform;backface-visibility:hidden}.Detail .Stream{padding:.3rem .9rem;overflow:hidden}.Detail .Stream.focused{outline:0;border:.2rem solid #fec401!important;padding:.1rem 2.5rem .1rem .7rem;border-radius:1rem}.Detail .Navigation .left{left:calc(60% + 1rem);top:calc(50% - 1.2rem)}.Detail .Navigation .right{top:calc(50% - 1.2rem);right:2.5rem}.Detail .Navigation .up{left:calc(80% - 1.8rem);top:2.5rem}.Detail .Navigation .down{left:calc(80% - 1.8rem);bottom:2.5rem}.webshare-ok .Detail .Stream.focused{background:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"%23fec401\" d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-3 18v-12l10 6-10 6z\"/></svg>') no-repeat right .7rem center/1.5rem}.Detail .Stream span{margin:0 .5rem 0 0}.Detail .Stream span::after{content:" "}.Detail .Stream .language{padding:0 0 0 1rem;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="115.3px" height="115.3px" viewBox="0 0 115.3 115.3"><path fill="%23ffffff" fill-opacity="0.5" d="M47.9,14.306L26,30.706H6c-3.3,0-6,2.7-6,6v41.8c0,3.301,2.7,6,6,6h20l21.9,16.4c4,3,9.6,0.2,9.6-4.8v-77 C57.5,14.106,51.8,11.306,47.9,14.306z"/><path fill="%23ffffff" fill-opacity="0.5" d="M77.3,24.106c-2.7-2.7-7.2-2.7-9.899,0c-2.7,2.7-2.7,7.2,0,9.9c13,13,13,34.101,0,47.101c-2.7,2.7-2.7,7.2,0,9.899 c1.399,1.4,3.199,2,4.899,2s3.601-0.699,4.9-2.1C95.8,72.606,95.8,42.606,77.3,24.106z"/><path fill="%23ffffff" fill-opacity="0.5" d="M85.1,8.406c-2.699,2.7-2.699,7.2,0,9.9c10.5,10.5,16.301,24.4,16.301,39.3s-5.801,28.8-16.301,39.3 c-2.699,2.7-2.699,7.2,0,9.9c1.4,1.399,3.2,2.1,4.9,2.1c1.8,0,3.6-0.7,4.9-2c13.1-13.1,20.399-30.6,20.399-49.2 c0-18.6-7.2-36-20.399-49.2C92.3,5.706,87.9,5.706,85.1,8.406z"/></svg>') no-repeat 0/.8em}.Detail .Stream .subtitles{padding:0 0 0 1rem;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="%23ffffff" fill-opacity="0.5" d="M448,0H64C28.704,0,0,28.704,0,64v288c0,35.296,28.704,64,64,64h32v80c0,6.208,3.584,11.872,9.216,14.496 c2.144,0.992,4.48,1.504,6.784,1.504c3.68,0,7.328-1.28,10.24-3.712L232.992,416H448c35.296,0,64-28.704,64-64V64 C512,28.704,483.296,0,448,0z M272,256H144c-8.832,0-16-7.168-16-16c0-8.832,7.168-16,16-16h128c8.832,0,16,7.168,16,16 C288,248.832,280.832,256,272,256z M368,160H144c-8.832,0-16-7.168-16-16c0-8.832,7.168-16,16-16h224c8.832,0,16,7.168,16,16 C384,152.832,376.832,160,368,160z"/></svg>') no-repeat 0/.8em}.Detail .Stream .extra{font-size:.8rem;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.SetupScreen{padding-top:7rem}.Pair,.Pair h1{position:relative}.Pair::before{content:"";position:absolute;width:9em;height:9em;left:calc(50% - 4.5rem);background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;"><path fill="%23ffffff" d="M302.933,42.667h-51.2c-7.074,0-12.8,5.726-12.8,12.8s5.726,12.8,12.8,12.8h51.2c7.074,0,12.8-5.726,12.8-12.8 S310.007,42.667,302.933,42.667z"/><path fill="%23ffffff" d="M358.4,0H153.6c-28.228,0-51.2,22.972-51.2,51.2v409.6c0,28.228,22.972,51.2,51.2,51.2h204.8 c28.228,0,51.2-22.972,51.2-51.2V51.2C409.6,22.972,386.628,0,358.4,0z M384,460.8c0,14.14-11.46,25.6-25.6,25.6H153.6 c-14.14,0-25.6-11.46-25.6-25.6V51.2c0-14.14,11.46-25.6,25.6-25.6h204.8c14.14,0,25.6,11.46,25.6,25.6V460.8z"/><circle fill="%23ffffff" cx="256" cy="443.733" r="25.6"/><circle fill="%23ffffff" cx="209.067" cy="55.467" r="12.8"/></svg>') no-repeat center 0/contain;animation:1s pair-blink infinite}.webshare-ok .Pair::before{animation:none;opacity:.5}.Pair h1{top:0;text-align:left;display:inline-block;background:rgba(0,0,0,.6);padding:.1rem .2rem;margin:4rem 0 3rem 50%}.Pair h1::before{content:"TV id:\00000a";white-space:nowrap;font-size:1rem;position:absolute;top:-1.2rem;left:0;background:#fff;padding:.1rem .2rem;line-height:1rem;font-weight:400;color:#000}.Pair p,.webshare-ok .Pair::after{text-align:center;width:50%;margin:1rem auto 0;background:rgba(0,0,0,.6);padding:.1rem .2em}.webshare-ok .Detail .Pair,.webshare-ok .Pair p{display:none}.webshare-ok .Pair::after{content:"TV successfully paired.";color:#fff;display:block;font-weight:700;font-size:2rem}.Pair p a{color:inherit;text-decoration-style:dotted}body:not(.webshare-ok) .Detail .Streams{top:10rem}body:not(.webshare-ok) .Detail .Stream{opacity:.5}.Detail .Pair{margin-top:-6rem}.Detail .Pair::before{width:4rem;height:4rem;left:calc(50% - 4rem)}.Detail .Pair h1{font-size:1rem;margin:2rem 0 1rem 50%}.Detail .Pair p{width:initial;background:0 0;margin:0 0 1rem;padding:0}.PlayerScreen{background:#000}.PlayerScreen.idle{cursor:none}.PlayerScreen.loading::after{content:"";position:absolute;width:4rem;height:4rem;left:calc(50% - 2rem);top:calc(50% - 2rem);background:no-repeat center/100%}.PlayerScreen video{position:absolute;left:0;top:0;right:0;bottom:0;width:100vw;height:100vh}.PlayerScreen .Controls{background:rgba(255,255,255,.4);left:50%;width:80%;height:.5rem;bottom:5rem;transform:translateX(-50%);-webkit-transform:translateX(-50%)}.OSK,.PlayerScreen .Controls,.PlayerScreen .tracks{position:absolute;transition:opacity .5s;-webkit-transition:opacity .5s;will-change:opacity}.PlayerScreen .tracks{bottom:2.5rem;right:5rem}.PlayerScreen.idle .Controls,.PlayerScreen.idle .tracks{opacity:0}.PlayerScreen .Controls.focused{outline:0}.PlayerScreen .Controls .thumb{position:absolute;background:#000 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23ffffff" d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-3 18v-12l10 6-10 6z"/></svg>') no-repeat center/2rem;width:2rem;height:2rem;border-radius:100%;top:-.75rem;transform:translateX(-50%);-webkit-transform:translateX(-50%)}.PlayerScreen.paused .Controls .thumb{background-image:url('data:image/svg+xml;utf8,<svg height="512" viewBox="0 0 565.648 565.648" width="512" xmlns="http://www.w3.org/2000/svg"><path fill="%23ffffff" d="m282.824 0c-155.947 0-282.824 126.877-282.824 282.824s126.877 282.824 282.824 282.824 282.824-126.877 282.824-282.824-126.877-282.824-282.824-282.824zm-35.353 388.883h-70.706v-212.118h70.706zm141.412 0h-70.706v-212.118h70.706z"/></svg>')}.PlayerScreen .Controls.focused .thumb{border:.2rem solid #fec401;top:-.9rem;width:2.3rem;height:2.3rem;bottom:3.85rem}.PlayerScreen .Controls .time{position:absolute;right:0;top:-1.5rem}.OSK{top:6.5rem}.OSK .Key{border:0;background:#fff;width:2.4rem;float:left;padding:.2rem;margin:0 .1rem .1rem 0;text-align:center;font-weight:700}.OSK .Key.focused{position:relative}.OSK .Key.action-a,.OSK .Key.action-k,.OSK .Key.action-u{clear:both}.OSK .Key.action-DEL,.OSK .Key.action-SPACE{width:4.9rem}.SearchScreen input{position:absolute;width:24.9rem;height:1rem;background:rgba(0,0,0,.6);border:0;border-bottom:1px dashed #666;color:#fff;font-size:1rem;padding:1rem}.SearchScreen.loading input{background-repeat:no-repeat;background-position:center right;background-size:2rem}.SearchScreen:not(.focus-osk) .OSK,.SearchScreen:not(.focus-osk) input{opacity:0;pointer-events:none}.Help,.Notification,.SearchScreen.focus-osk .Detail{opacity:0;pointer-events:none}.Help,.Notification{position:absolute;right:0;top:0;transition:opacity .5s;-webkit-transition:opacity .5s;will-change:opacity}.Notification{left:0;background:#fec401;color:#000;padding:4rem 2.5rem 1rem}.Help.visible,.Notification.visible{opacity:1}.Help{left:50%;bottom:0;background:rgba(0,0,0,.6);color:#fff;padding:1.5rem 2.5rem 1.5rem 1rem}.Help .instructions span{display:inline-block;width:3rem}.Help .instructions button{border-radius:.3rem;border:.1rem solid #fff;background:0 0;color:inherit;font-size:.8rem;width:3rem;margin-left:.5rem}.Help .log{position:absolute;top:12.5rem;right:2.5rem;bottom:1.5rem;left:1rem;overflow:hidden;font-size:.8rem}.Help .log code{color:red;font:700 1em monospace;margin-right:.5rem}.AudioTracks,.TextTracks{list-style:none;margin:0 0 0 .5rem;padding:0;display:inline-block}.AudioTracks .focused,.AudioTracks.focused,.TextTracks .focused,.TextTracks.focused{outline:0}.AudioTracks li,.TextTracks li{margin-top:.2rem;border-radius:1rem;padding:.15rem 1rem;text-align:center;background:rgba(0,0,0,.6);border:.2rem solid transparent}.AudioTracks:not(:hover):not(.focused) li:not(.current),.TextTracks:not(:hover):not(.focused) li:not(.current){display:none}.AudioTracks .current,.TextTracks .current{color:#000;padding:.15rem .5rem .15rem 1.5rem}.AudioTracks .current{background:#fff url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="115.3px" height="115.3px" viewBox="0 0 115.3 115.3"><path fill="%23000000" d="M47.9,14.306L26,30.706H6c-3.3,0-6,2.7-6,6v41.8c0,3.301,2.7,6,6,6h20l21.9,16.4c4,3,9.6,0.2,9.6-4.8v-77 C57.5,14.106,51.8,11.306,47.9,14.306z"/><path fill="%23000000" d="M77.3,24.106c-2.7-2.7-7.2-2.7-9.899,0c-2.7,2.7-2.7,7.2,0,9.9c13,13,13,34.101,0,47.101c-2.7,2.7-2.7,7.2,0,9.899 c1.399,1.4,3.199,2,4.899,2s3.601-0.699,4.9-2.1C95.8,72.606,95.8,42.606,77.3,24.106z"/><path fill="%23000000" d="M85.1,8.406c-2.699,2.7-2.699,7.2,0,9.9c10.5,10.5,16.301,24.4,16.301,39.3s-5.801,28.8-16.301,39.3 c-2.699,2.7-2.699,7.2,0,9.9c1.4,1.399,3.2,2.1,4.9,2.1c1.8,0,3.6-0.7,4.9-2c13.1-13.1,20.399-30.6,20.399-49.2 c0-18.6-7.2-36-20.399-49.2C92.3,5.706,87.9,5.706,85.1,8.406z"/></svg>') no-repeat .3rem center/1rem}.TextTracks .current{background:#fff url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="%23000000" d="M448,0H64C28.704,0,0,28.704,0,64v288c0,35.296,28.704,64,64,64h32v80c0,6.208,3.584,11.872,9.216,14.496 c2.144,0.992,4.48,1.504,6.784,1.504c3.68,0,7.328-1.28,10.24-3.712L232.992,416H448c35.296,0,64-28.704,64-64V64 C512,28.704,483.296,0,448,0z M272,256H144c-8.832,0-16-7.168-16-16c0-8.832,7.168-16,16-16h128c8.832,0,16,7.168,16,16 C288,248.832,280.832,256,272,256z M368,160H144c-8.832,0-16-7.168-16-16c0-8.832,7.168-16,16-16h224c8.832,0,16,7.168,16,16 C384,152.832,376.832,160,368,160z"/></svg>') no-repeat .3rem center/1rem}.AudioTracks li:hover,.AudioTracks.focused .focused,.TextTracks li:hover,.TextTracks.focused .focused{border-color:#fec401}.Navigation span{opacity:0;transition:opacity .5s;-webkit-transition:opacity .5s;will-change:opacity;position:absolute;width:2rem;height:2rem;display:block;border:.2rem solid #000;border-radius:100%;background:#000 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="%23fec401" d="M256,0C114.837,0,0,114.837,0,256s114.837,256,256,256s256-114.837,256-256S397.163,0,256,0z M313.749,347.584 c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251L176.917,271.083 c-8.341-8.341-8.341-21.824,0-30.165l106.667-106.667c8.341-8.341,21.824-8.341,30.165,0s8.341,21.824,0,30.165L222.165,256 L313.749,347.584z"/></svg>') no-repeat 0/100%}body.mouseActive .Navigation span{opacity:.5}.Navigation span:hover{opacity:1!important}.Navigation span.right{transform:rotate(180deg);-webkit-transform:rotate(180deg)}.Navigation span.up{transform:rotate(90deg);-webkit-transform:rotate(90deg)}.Navigation span.down{transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}</style>
	<link rel="icon" type="image/png" href="/img/favicon.png">
</head>
<body class="initializing">
	<script>(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.WHATWGFetch={})})(this,function(e){'use strict';function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}function normalizeName(e){if("string"!=typeof e&&(e+=""),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name: \""+e+"\"");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e+=""),e}function iteratorFor(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function fileReaderReady(e){return new Promise(function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,o=fileReaderReady(t);return t.readAsArrayBuffer(e),o}function readBlobAsText(e){var t=new FileReader,o=fileReaderReady(t);return t.readAsText(e),o}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),o=Array(t.length),a=0;a<t.length;a++)o[a]=String.fromCharCode(t[a]);return o.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o.arrayBuffer&&o.blob&&isDataView(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=consumed(this);return e?e:ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)}return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function normalizeMethod(e){var t=e.toUpperCase();return-1<r.indexOf(t)?t:e}function Request(e,t){if(!(this instanceof Request))throw new TypeError("Please use the \"new\" operator, this DOM object constructor cannot be called as a function.");t=t||{};var o=t.body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=e+"";if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+new Date().getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var o=e.split("="),a=o.shift().replace(/\+/g," "),i=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}}),t}function parseHeaders(e){var t=new Headers,o=e.replace(/\r?\n[\t ]+/g," ");return o.split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var o=e.split(":"),a=o.shift().trim();if(a){var i=o.join(":").trim();t.append(a,i)}}),t}function Response(e,t){if(!(this instanceof Response))throw new TypeError("Please use the \"new\" operator, this DOM object constructor cannot be called as a function.");t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=200<=this.status&&300>this.status,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}function fetch(a,i){return new Promise(function(r,n){function abortXhr(){d.abort()}var l=new Request(a,i);if(l.signal&&l.signal.aborted)return n(new e.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;d.onload=function(){var e={status:d.status,statusText:d.statusText,headers:parseHeaders(d.getAllResponseHeaders()||"")};e.url="responseURL"in d?d.responseURL:e.headers.get("X-Request-URL");var t="response"in d?d.response:d.responseText;setTimeout(function(){r(new Response(t,e))},0)},d.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},d.onabort=function(){setTimeout(function(){n(new e.DOMException("Aborted","AbortError"))},0)},d.open(l.method,function fixUrl(o){try{return""===o&&t.location.href?t.location.href:o}catch(t){return o}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(o.blob?d.responseType="blob":o.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(d.responseType="arraybuffer")),i&&"object"==typeof i.headers&&!(i.headers instanceof Headers)?Object.getOwnPropertyNames(i.headers).forEach(function(e){d.setRequestHeader(e,normalizeValue(i.headers[e]))}):l.headers.forEach(function(e,t){d.setRequestHeader(t,e)}),l.signal&&(l.signal.addEventListener("abort",abortXhr),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",abortXhr)}),d.send("undefined"==typeof l._bodyInit?null:l._bodyInit)})}var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof t&&t,o={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(o.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))};Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var o=this.map[e];this.map[e]=o?o+", "+t:t},Headers.prototype["delete"]=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,o){e.push(o)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,o){e.push([o,t])}),iteratorFor(e)},o.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var n=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===n.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var o=Error(e);this.stack=o.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}fetch.polyfill=!0,t.fetch||(t.fetch=fetch,t.Headers=Headers,t.Request=Request,t.Response=Response),e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=fetch,Object.defineProperty(e,"__esModule",{value:!0})}),"use strict";var ymovie,__extends=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function __(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}}();(function(e){var t;(function(e){var t;(function(e){var t=function(){function Signal(){this.listAlways=[],this.listOnce=[]}return Signal.prototype.getList=function(){return this.listAlways.concat(this.listOnce)},Signal.prototype.add=function(e){var t=this;return this.listAlways.push(e),function(){return t.arrayRemove(t.listAlways,e)}},Signal.prototype.addOnce=function(e){var t=this;return this.listOnce.push(e),function(){return t.arrayRemove(t.listOnce,e)}},Signal.prototype.removeAll=function(){this.listAlways=[],this.listOnce=[]},Signal.prototype.remove=function(e){this.arrayRemove(this.listAlways,e),this.arrayRemove(this.listOnce,e)},Signal.prototype.afterDispatch=function(){this.listOnce=[]},Signal.prototype.arrayRemove=function(e,t){var o=e.indexOf(t,0);-1<o&&e.splice(o,1)},Signal}();e.Signal=t;var o=function(e){function Signal0(){return null!==e&&e.apply(this,arguments)||this}return __extends(Signal0,e),Signal0.prototype.dispatch=function(){for(var e,t=0,o=this.getList();t<o.length;t++)e=o[t],e();this.afterDispatch()},Signal0}(t);e.Signal0=o;var a=function(e){function Signal1(){return null!==e&&e.apply(this,arguments)||this}return __extends(Signal1,e),Signal1.prototype.dispatch=function(e){for(var t,o=0,a=this.getList();o<a.length;o++)t=a[o],t(e);this.afterDispatch()},Signal1}(t);e.Signal1=a;var i=function(e){function Signal2(){return null!==e&&e.apply(this,arguments)||this}return __extends(Signal2,e),Signal2.prototype.dispatch=function(e,t){for(var o,a=0,i=this.getList();a<i.length;a++)o=i[a],o(e,t);this.afterDispatch()},Signal2}(t);e.Signal2=i})(t=e.Signal||(e.Signal={}))})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t=function(){function Storage(){}return Object.defineProperty(Storage,"storage",{get:function(){return window.localStorage},enumerable:!1,configurable:!0}),Storage.set=function(e,t){this.storage.setItem(e,t)},Storage.get=function(e){return this.storage.getItem(e)},Storage.remove=function(e){this.storage.removeItem(e)},Storage}();e.Storage=t})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie,__awaiter=this&&this.__awaiter||function(e,t,o,a){function adopt(e){return e instanceof o?e:new o(function(t){t(e)})}return new(o||(o=Promise))(function(o,i){function fulfilled(e){try{step(a.next(e))}catch(t){i(t)}}function rejected(e){try{step(a["throw"](e))}catch(t){i(t)}}function step(e){e.done?o(e.value):adopt(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,o){function verb(e){return function(t){return step([e,t])}}function step(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(r=2&t[0]?i["return"]:t[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,t[1])).done)return r;switch((i=0,r)&&(t=[2&t[0],r.value]),t[0]){case 0:case 1:r=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if((r=l.trys,!(r=0<r.length&&r[r.length-1]))&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!r||t[1]>r[0]&&t[1]<r[3])){l.label=t[1];break}if(6===t[0]&&l.label<r[1]){l.label=r[1],r=t;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(t);break}r[2]&&l.ops.pop(),l.trys.pop();continue;}t=o.call(e,l)}catch(o){t=[6,o],i=0}finally{a=r=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var a,i,r,n,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};(function(e){var t;(function(t){var o=e.util.Storage,a=e.util.Signal.Signal1,i=function(){function Api(){this.webshareStatusChanged=new a,this.ymovie=new t.YMovie.Api,this.scc=new t.Scc.Api(this.uuid,this.webshareUsername),this.webshare=new t.Webshare.Api(this.uuid)}return Api.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.checkWebshareStatus()];case 1:return e.sent(),[2];}})})},Object.defineProperty(Api.prototype,"uuid",{get:function(){var t=o.get(Api.KEY_UUID);if(t)return t;var a=e.util.Util.uuidv4();return this.uuid=a,a},set:function(e){null===e?o.remove(Api.KEY_UUID):o.set(Api.KEY_UUID,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Api.prototype,"webshareToken",{get:function(){return o.get(Api.KEY_WEBSHARE_TOKEN)},set:function(e){null===e?o.remove(Api.KEY_WEBSHARE_TOKEN):o.set(Api.KEY_WEBSHARE_TOKEN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Api.prototype,"webshareUsername",{get:function(){return o.get(Api.KEY_WEBSHARE_USERNAME)},set:function(e){this.scc.webshareUsername=e,null===e?o.remove(Api.KEY_WEBSHARE_USERNAME):o.set(Api.KEY_WEBSHARE_USERNAME,e)},enumerable:!1,configurable:!0}),Api.prototype.searchScc=function(e,o){return __awaiter(this,void 0,void 0,function(){var a,i;return __generator(this,function(r){switch(r.label){case 0:return i=(a=t.Scc.Parser).toCatalogue,[4,this.scc.search(e.trim())];case 1:return[2,i.apply(a,[r.sent(),o])];}})})},Api.prototype.isWebshareSearchQuery=function(e){return!!e.match(/[\s]+ws$/)},Api.prototype.normalizeWebshareSearchQuery=function(e){return e.replace(/[\s]+ws$/,"").trim()},Api.prototype.searchWebshare=function(e,o,a){return __awaiter(this,void 0,void 0,function(){var i,r,n;return __generator(this,function(l){switch(l.label){case 0:return i=this.normalizeWebshareSearchQuery(e),n=(r=t.Webshare.Parser).searchResponseToCatalogue,[4,this.webshare.search(i,a)];case 1:return[2,n.apply(r,[l.sent(),e,o,a])];}})})},Api.prototype.loadMedia=function(e){return __awaiter(this,void 0,void 0,function(){var o,a,i;return __generator(this,function(r){switch(r.label){case 0:return a=(o=t.Scc.Parser).toItem,i={_id:e},[4,this.scc.loadMedia(e)];case 1:return[2,a.apply(o,[(i._source=r.sent(),i)])];}})})},Api.prototype.loadPath=function(e,o){return __awaiter(this,void 0,void 0,function(){var a,i;return __generator(this,function(r){switch(r.label){case 0:return i=(a=t.Scc.Parser).toCatalogue,[4,this.scc.loadPath(e)];case 1:return[2,i.apply(a,[r.sent(),o])];}})})},Api.prototype.loadIds=function(e,o){return __awaiter(this,void 0,void 0,function(){var a,i,r;return __generator(this,function(n){switch(n.label){case 0:return e.length?(r=(i=t.Scc.Parser).idsToCatalogue,[4,this.scc.loadIds(e)]):[3,2];case 1:return a=r.apply(i,[n.sent(),e,o]),[3,3];case 2:a=[],n.label=3;case 3:return[2,a];}})})},Api.prototype.loadSeasons=function(e,o){return __awaiter(this,void 0,void 0,function(){var a,i;return __generator(this,function(r){switch(r.label){case 0:return i=(a=t.Scc.Parser).toCatalogue,[4,this.scc.loadSeasons(e)];case 1:return[2,i.apply(a,[r.sent(),o])];}})})},Api.prototype.loadEpisodes=function(e,o){return __awaiter(this,void 0,void 0,function(){var a,i;return __generator(this,function(r){switch(r.label){case 0:return i=(a=t.Scc.Parser).toCatalogue,[4,this.scc.loadEpisodes(e)];case 1:return[2,i.apply(a,[r.sent(),o])];}})})},Api.prototype.loadStreams=function(e){return __awaiter(this,void 0,void 0,function(){var o,a;return __generator(this,function(i){switch(i.label){case 0:return a=(o=t.Scc.Parser).toStreams,[4,this.scc.loadStreams(e.id)];case 1:return[2,a.apply(o,[i.sent()])];}})})},Api.prototype.loadWebshareMedia=function(e){return __awaiter(this,void 0,void 0,function(){var o,a;return __generator(this,function(i){switch(i.label){case 0:return a=(o=t.Webshare.Parser).fileInfoToItem,[4,this.webshare.fileInfo(e)];case 1:return[2,a.apply(o,[i.sent(),e])];}})})},Api.prototype.loadWebshareStreams=function(e){return __awaiter(this,void 0,void 0,function(){var o,a,i,r;return __generator(this,function(n){switch(n.label){case 0:return o=e.id,i=(a=t.Webshare.Parser).fileInfoToStreams,r=[o],[4,this.webshare.fileInfo(o)];case 1:return[2,i.apply(a,r.concat([n.sent()]))];}})})},Api.prototype.resolveStreamUrl=function(e,t){return void 0===t&&(t=!1),this.webshare.getLink(e.ident,t,this.webshareToken)},Api.prototype.loginWebshare=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,a,i;return __generator(this,function(r){switch(r.label){case 0:o=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),this.webshareUsername=e,a=this,[4,this.webshare.getToken(e,t)];case 2:return a.webshareToken=r.sent(),[3,4];case 3:return i=r.sent(),o=!1,[3,4];case 4:return this.webshareStatusChanged.dispatch(o?"ok":"na"),[2,o];}})})},Api.prototype.logoutWebshare=function(){this.webshareUsername=null,this.webshareToken=null,this.webshareStatusChanged.dispatch("na")},Api.prototype.checkWebshareStatus=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(o){switch(o.label){case 0:e=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.webshare.getUsername(this.webshareToken)];case 2:return o.sent(),[3,4];case 3:return t=o.sent(),e=!1,this.webshareUsername=null,this.webshareToken=null,[3,4];case 4:return this.webshareStatusChanged.dispatch(e?"ok":"na"),[2,e];}})})},Api.prototype.pairPut=function(e){return this.ymovie.pairPut(this.webshareToken,e)},Api.KEY_UUID="UUID",Api.KEY_WEBSHARE_TOKEN="WEBSHARE_TOKEN",Api.KEY_WEBSHARE_USERNAME="WEBSHARE_USERNAME",Api}();t.Api=i})(t=e.api||(e.api={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t=function(){return function Base(e,t){this.group=e,this.label=t}}();e.Base=t})(t=e.Catalogue||(e.Catalogue={}))})(t=e.type||(e.type={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t=function(){return function Base(e){this.id=e}}();e.Base=t;var o=function(e){function Scc(){return null!==e&&e.apply(this,arguments)||this}return __extends(Scc,e),Scc}(t);e.Scc=o;var a=function(e){function Season(){return null!==e&&e.apply(this,arguments)||this}return __extends(Season,e),Season}(o);e.Season=a;var i=function(e){function Series(){return null!==e&&e.apply(this,arguments)||this}return __extends(Series,e),Series}(o);e.Series=i;var r=function(e){function PlayableScc(){return null!==e&&e.apply(this,arguments)||this}return __extends(PlayableScc,e),PlayableScc}(o);e.PlayableScc=r;var n=function(e){function Movie(){return null!==e&&e.apply(this,arguments)||this}return __extends(Movie,e),Movie}(r);e.Movie=n;var l=function(e){function Episode(){return null!==e&&e.apply(this,arguments)||this}return __extends(Episode,e),Episode}(r);e.Episode=l;var d=function(e){function Webshare(){return null!==e&&e.apply(this,arguments)||this}return __extends(Webshare,e),Webshare}(t);e.Webshare=d})(t=e.Media||(e.Media={}))})(t=e.type||(e.type={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*8))}function binl2str(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t}function str2binl(e){for(var t=[],o=0;o<e.length*8;o+=8)t[o>>5]|=(e.charCodeAt(o/8)&255)<<o%32;return t}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var o=1732584193,r=-271733879,n=-1732584194,l=271733878,s=0;s<e.length;s+=16){var p=o,u=r,g=n,y=l;o=md5_ff(o,r,n,l,e[s+0],7,-680876936),l=md5_ff(l,o,r,n,e[s+1],12,-389564586),n=md5_ff(n,l,o,r,e[s+2],17,606105819),r=md5_ff(r,n,l,o,e[s+3],22,-1044525330),o=md5_ff(o,r,n,l,e[s+4],7,-176418897),l=md5_ff(l,o,r,n,e[s+5],12,1200080426),n=md5_ff(n,l,o,r,e[s+6],17,-1473231341),r=md5_ff(r,n,l,o,e[s+7],22,-45705983),o=md5_ff(o,r,n,l,e[s+8],7,1770035416),l=md5_ff(l,o,r,n,e[s+9],12,-1958414417),n=md5_ff(n,l,o,r,e[s+10],17,-42063),r=md5_ff(r,n,l,o,e[s+11],22,-1990404162),o=md5_ff(o,r,n,l,e[s+12],7,1804603682),l=md5_ff(l,o,r,n,e[s+13],12,-40341101),n=md5_ff(n,l,o,r,e[s+14],17,-1502002290),r=md5_ff(r,n,l,o,e[s+15],22,1236535329),o=md5_gg(o,r,n,l,e[s+1],5,-165796510),l=md5_gg(l,o,r,n,e[s+6],9,-1069501632),n=md5_gg(n,l,o,r,e[s+11],14,643717713),r=md5_gg(r,n,l,o,e[s+0],20,-373897302),o=md5_gg(o,r,n,l,e[s+5],5,-701558691),l=md5_gg(l,o,r,n,e[s+10],9,38016083),n=md5_gg(n,l,o,r,e[s+15],14,-660478335),r=md5_gg(r,n,l,o,e[s+4],20,-405537848),o=md5_gg(o,r,n,l,e[s+9],5,568446438),l=md5_gg(l,o,r,n,e[s+14],9,-1019803690),n=md5_gg(n,l,o,r,e[s+3],14,-187363961),r=md5_gg(r,n,l,o,e[s+8],20,1163531501),o=md5_gg(o,r,n,l,e[s+13],5,-1444681467),l=md5_gg(l,o,r,n,e[s+2],9,-51403784),n=md5_gg(n,l,o,r,e[s+7],14,1735328473),r=md5_gg(r,n,l,o,e[s+12],20,-1926607734),o=md5_hh(o,r,n,l,e[s+5],4,-378558),l=md5_hh(l,o,r,n,e[s+8],11,-2022574463),n=md5_hh(n,l,o,r,e[s+11],16,1839030562),r=md5_hh(r,n,l,o,e[s+14],23,-35309556),o=md5_hh(o,r,n,l,e[s+1],4,-1530992060),l=md5_hh(l,o,r,n,e[s+4],11,1272893353),n=md5_hh(n,l,o,r,e[s+7],16,-155497632),r=md5_hh(r,n,l,o,e[s+10],23,-1094730640),o=md5_hh(o,r,n,l,e[s+13],4,681279174),l=md5_hh(l,o,r,n,e[s+0],11,-358537222),n=md5_hh(n,l,o,r,e[s+3],16,-722521979),r=md5_hh(r,n,l,o,e[s+6],23,76029189),o=md5_hh(o,r,n,l,e[s+9],4,-640364487),l=md5_hh(l,o,r,n,e[s+12],11,-421815835),n=md5_hh(n,l,o,r,e[s+15],16,530742520),r=md5_hh(r,n,l,o,e[s+2],23,-995338651),o=md5_ii(o,r,n,l,e[s+0],6,-198630844),l=md5_ii(l,o,r,n,e[s+7],10,1126891415),n=md5_ii(n,l,o,r,e[s+14],15,-1416354905),r=md5_ii(r,n,l,o,e[s+5],21,-57434055),o=md5_ii(o,r,n,l,e[s+12],6,1700485571),l=md5_ii(l,o,r,n,e[s+3],10,-1894986606),n=md5_ii(n,l,o,r,e[s+10],15,-1051523),r=md5_ii(r,n,l,o,e[s+1],21,-2054922799),o=md5_ii(o,r,n,l,e[s+8],6,1873313359),l=md5_ii(l,o,r,n,e[s+15],10,-30611744),n=md5_ii(n,l,o,r,e[s+6],15,-1560198380),r=md5_ii(r,n,l,o,e[s+13],21,1309151649),o=md5_ii(o,r,n,l,e[s+4],6,-145523070),l=md5_ii(l,o,r,n,e[s+11],10,-1120210379),n=md5_ii(n,l,o,r,e[s+2],15,718787259),r=md5_ii(r,n,l,o,e[s+9],21,-343485551),o=safe_add(o,p),r=safe_add(r,u),n=safe_add(n,g),l=safe_add(l,y)}return[o,r,n,l]}function md5_cmn(e,o,a,i,r,n){return safe_add(bit_rol(safe_add(safe_add(o,e),safe_add(i,n)),r),a)}function md5_ff(e,o,a,i,r,n,l){return md5_cmn(o&a|~o&i,e,o,r,n,l)}function md5_gg(e,o,a,i,r,n,l){return md5_cmn(o&i|a&~i,e,o,r,n,l)}function md5_hh(e,o,a,i,r,n,l){return md5_cmn(o^a^i,e,o,r,n,l)}function md5_ii(e,o,a,i,r,n,l){return md5_cmn(a^(o|~i),e,o,r,n,l)}function safe_add(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o}function bit_rol(e,t){return e<<t|e>>>32-t}function to64_triplet(e,t,o,a){var i=e.charCodeAt(t)<<16|e.charCodeAt(o)<<8|e.charCodeAt(a);return to64(i,4)}function to64(e,t){for(var o="";0<=--t;)o+="./0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(63&e),e>>=6;return o}function to64_single(e,t){var o=e.charCodeAt(t);return to64(o,2)}e.md5crypt=function md5crypt(e,t){for(var o=e+"$1$"+t,a=str_md5(e+t+e),r=e.length;0<r;r-=16)o+=a.slice(0,16<r?16:r);for(var n=e.length;0!=n;n>>=1)o+=1&n?"\0":e.charAt(0);for(o=str_md5(o),n=0;1e3>n;n++)a="",a+=1&n?e:o,n%3&&(a+=t),n%7&&(a+=e),a+=1&n?o:e,o=str_md5(a);return"$1$"+t+"$"+to64_triplet(o,0,6,12)+to64_triplet(o,1,7,13)+to64_triplet(o,2,8,14)+to64_triplet(o,3,9,15)+to64_triplet(o,4,10,5)+to64_single(o,11)}})(t=e.MD5||(e.MD5={}))})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var i,a=String.fromCharCode;(function(e){var t;(function(e){var t=function(){var e=e||function(g){function i(){if(y){if("function"==typeof y.getRandomValues)try{return y.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof y.randomBytes)try{return y.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}function r(){}var y;if("undefined"!=typeof window&&window.crypto&&(y=window.crypto),!y&&"undefined"!=typeof window&&window.msCrypto&&(y=window.msCrypto),!y&&"undefined"!=typeof global&&global.crypto&&(y=global.crypto),!y&&"function"==typeof require)try{y=require("crypto")}catch(e){}var m=Object.create||function(e){var t;return r.prototype=e,t=new r,r.prototype=null,t},e={},n=e.lib={},o=n.Base={extend:function(e){var t=m(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},f=n.WordArray=o.extend({init:function(e,o){e=this.words=e||[],this.sigBytes=null==o?4*e.length:o},toString:function(e){return(e||p).stringify(this)},concat:function(a){var t=this.words,n=a.words,e=this.sigBytes,i=a.sigBytes;if(this.clamp(),e%4)for(var r,l=0;l<i;l++)r=255&n[l>>>2]>>>24-8*(l%4),t[e+l>>>2]|=r<<24-8*((e+l)%4);else for(l=0;l<i;l+=4)t[e+l>>>2]=n[l>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-8*(t%4),e.length=g.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(o){for(var t=[],a=0;a<o;a+=4)t.push(i());return new f.init(t,o)}}),s=e.enc={},p=s.Hex={stringify:function(a){for(var t,l=a.words,n=a.sigBytes,e=[],i=0;i<n;i++)t=255&l[i>>>2]>>>24-8*(i%4),e.push((t>>>4).toString(16)),e.push((15&t).toString(16));return e.join("")},parse:function(o){for(var t=o.length,a=[],e=0;e<t;e+=2)a[e>>>3]|=parseInt(o.substr(e,2),16)<<24-4*(e%8);return new f.init(a,t/2)}},c=s.Latin1={stringify:function(l){for(var t,d=l.words,n=l.sigBytes,e=[],i=0;i<n;i++)t=255&d[i>>>2]>>>24-8*(i%4),e.push(a(t));return e.join("")},parse:function(o){for(var t=o.length,a=[],e=0;e<t;e++)a[e>>>2]|=(255&o.charCodeAt(e))<<24-8*(e%4);return new f.init(a,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(l){var t,d=this._data,e=d.words,i=d.sigBytes,r=this.blockSize,o=i/(4*r),p=(o=l?g.ceil(o):g.max((0|o)-this._minBufferSize,0))*r,a=g.min(4*p,i);if(p){for(var c=0;c<p;c+=r)this._doProcessBlock(e,c);t=e.splice(0,p),d.sigBytes-=a}return new f.init(t,a)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(n.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(o){return function(e,t){return new o.init(t).finalize(e)}},_createHmacHelper:function(o){return function(e,t){return new h.HMAC.init(o,t).finalize(e)}}}),e.algo={});return e}(Math);return e}();t.SHA1=function(a){var e,d,p,c,u,g,y;return d=(e=a).lib,p=d.WordArray,c=d.Hasher,u=e.algo,g=[],y=u.SHA1=c.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,e){for(var t=this._hash.words,r=t[0],d=t[1],p=t[2],u=t[3],y=t[4],m=0;80>m;m++){if(16>m)g[m]=0|l[e+m];else{var b=g[m-3]^g[m-8]^g[m-14]^g[m-16];g[m]=b<<1|b>>>31}var c=(r<<5|r>>>27)+y+g[m];c+=20>m?1518500249+(d&p|~d&u):40>m?1859775393+(d^p^u):60>m?(d&p|d&u|p&u)-1894007588:(d^p^u)-899497514,y=u,u=p,p=d<<30|d>>>2,d=r,r=c}t[0]=0|t[0]+r,t[1]=0|t[1]+d,t[2]=0|t[2]+p,t[3]=0|t[3]+u,t[4]=0|t[4]+y},_doFinalize:function(){var a=this._data,e=a.words,t=8*this._nDataBytes,i=8*a.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(64+i>>>9<<4)]=Math.floor(t/4294967296),e[15+(64+i>>>9<<4)]=t,a.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=c._createHelper(y),e.HmacSHA1=c._createHmacHelper(y),a.SHA1}(t),t.SHA256=function(l){return function(d){var n=l,e=n.lib,r=e.WordArray,t=e.Hasher,o=n.algo,i=[],p=[];!function(){function e(o){for(var e=d.sqrt(o),a=2;a<=e;a++)if(!(o%a))return;return 1}function r(t){return 0|4294967296*(t-(0|t))}for(var a=2,n=0;64>n;)e(a)&&(8>n&&(i[n]=r(d.pow(a,.5))),p[n]=r(d.pow(a,1/3)),n++),a++}();var g=[],s=o.SHA256=t.extend({_doReset:function(){this._hash=new r.init(i.slice(0))},_doProcessBlock:function(d,e){for(var r=this._hash.words,t=r[0],m=r[1],b=r[2],S=r[3],T=r[4],A=r[5],E=r[6],C=r[7],w=0;64>w;w++){if(16>w)g[w]=0|d[e+w];else{var k=g[w-15],l=g[w-2];g[w]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+g[w-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+g[w-16]}var _=t&m^t&b^m&b,v=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),L=C+((T<<26|T>>>6)^(T<<21|T>>>11)^(T<<7|T>>>25))+(T&A^~T&E)+p[w]+g[w];C=E,E=A,A=T,T=0|S+L,S=b,b=m,m=t,t=0|L+(v+_)}r[0]=0|r[0]+t,r[1]=0|r[1]+m,r[2]=0|r[2]+b,r[3]=0|r[3]+S,r[4]=0|r[4]+T,r[5]=0|r[5]+A,r[6]=0|r[6]+E,r[7]=0|r[7]+C},_doFinalize:function(){var a=this._data,e=a.words,i=8*this._nDataBytes,t=8*a.sigBytes;return e[t>>>5]|=128<<24-t%32,e[14+(64+t>>>9<<4)]=d.floor(i/4294967296),e[15+(64+t>>>9<<4)]=i,a.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var o=t.clone.call(this);return o._hash=this._hash.clone(),o}});n.SHA256=t._createHelper(s),n.HmacSHA256=t._createHmacHelper(s)}(Math),l.SHA256}(t),e.sha1=function sha1(e){return t.SHA1(e).toString()},e.sha256=function sha256(e){return t.SHA256(e).toString()}})(t=e.Sha||(e.Sha={}))})(i=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){e.setParam=function setParam(e,t,o){var a,i=encodeURIComponent(t)+"="+encodeURIComponent(o),r=e.split("?");if(2>r.length)return e+"?"+i;for(var n,l=!1,d=r[0]+"?",s=null===(a=r[1])||void 0===a?void 0:a.split("&"),p=0,c=s;p<c.length;p++)n=c[p],decodeURIComponent(n.split("=")[0])===t?(l=!0,d+="&"+i):d+="&"+n;return l||(d+="&"+i),d.replace("?&","?")},e.ensureProtocol=function ensureProtocol(e){return e&&"//"===e.substr(0,2)?document.location.protocol+e:e&&"http"!==e.substr(0,4)?document.location.protocol+"//"+e:e}})(t=e.Url||(e.Url={}))})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=e.type.Catalogue,a=e.type.Media,i=e.util.Url,r=function(){function Api(e,t){this.uuid=e,this.webshareUsername=t}return Api.prototype.search=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadPath(Api.PATH_SEARCH+"&value="+encodeURIComponent(e))];case 1:return[2,t.sent()];}})})},Api.prototype.loadPath=function(e){return __awaiter(this,void 0,void 0,function(){var t,o;return __generator(this,function(a){switch(a.label){case 0:return t=this.getHeaders(),o=this.getUrl(e),[4,fetch(o,{headers:t})];case 1:return[4,a.sent().json()];case 2:return[2,a.sent()];}})})},Api.prototype.loadIds=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t=e.reduce(function(e,t){return e+"&id="+encodeURIComponent(t)},""),[4,this.loadPath("/api/media/filter/ids?"+t)];case 1:return[2,o.sent()];}})})},Api.prototype.loadMedia=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadPath("/api/media/"+e)];case 1:return[2,t.sent()];}})})},Api.prototype.loadStreams=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadPath("/api/media/"+e+"/streams")];case 1:return[2,t.sent()];}})})},Api.prototype.loadSeasons=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadPath("/api/media/filter/parent?value="+e+"&sort=episode")];case 1:return[2,t.sent()];}})})},Api.prototype.loadEpisodes=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadPath("/api/media/filter/parent?value="+e+"&sort=episode")];case 1:return[2,t.sent()];}})})},Api.setLimit=function(e,t){return i.setParam(e,"limit",t.toString())},Api.prototype.getUrl=function(e){return i.setParam(Api.ENDPOINT+e,Api.TOKEN_PARAM_NAME,Api.TOKEN_PARAM_VALUE)},Api.prototype.getHeaders=function(){return{"X-Uuid":this.uuid}},Api.ENDPOINT="https://plugin.sc2.zone",Api.PATH_SEARCH="/api/media/filter/search?order=desc&sort=score&type=*",Api.PATH_MOVIES="/api/media/filter/news?type=movie&sort=dateAdded&order=desc&days=365",Api.PATH_SERIES="/api/media/filter/news?type=tvshow&sort=dateAdded&order=desc&days=365",Api.PATH_CONCERTS="/api/media/filter/concert?type=*&sort=dateAdded&order=desc&days=730",Api.PATH_FAIRY_TALES="/api/media/filter/genre?type=movie&sort=premiered&order=desc&value=Fairy Tale",Api.PATH_ANIMATED_MOVIES="/api/media/filter/genre?type=movie&sort=premiered&order=desc&days=365&value=Animated",Api.PATH_ANIMATED_SERIES="/api/media/filter/genre?type=tvshow&sort=premiered&order=desc&days=365&value=Animated",Api.PATH_MOVIES_CZSK="/api/media/filter/newsDubbed?type=movie&sort=langDateAdded&order=desc&lang=cs&lang=sk&days=730",Api.PATH_SERIES_CZSK="/api/media/filter/newsDubbed?type=tvshow&sort=langDateAdded&order=desc&lang=cs&lang=sk&days=730",Api.PATH_POPULAR_MOVIES="/api/media/filter/all?type=movie&sort=playCount&order=desc",Api.PATH_POPULAR_SERIES="/api/media/filter/all?type=tvshow&sort=playCount&order=desc",Api.PATH_MOVIES_ADDED="/api/media/filter/all?type=movie&sort=dateAdded&order=desc",Api.PATH_SERIES_ADDED="/api/media/filter/all?type=tvshow&sort=dateAdded&order=desc",Api.TOKEN_PARAM_NAME="access_token",Api.TOKEN_PARAM_VALUE="th2tdy0no8v1zoh1fs59",Api}();t.Api=r;var n=function(){function Parser(){}return Parser.toStreams=function(e){var t=this,o=e.map(function(e){return t.normalizeStream(e)});return o.filter(function(e){return null!=e})},Parser.toCatalogue=function(e,t){var o=Parser.toMedia(e),a=null===e||void 0===e?void 0:e.pagination;return(null===a||void 0===a?void 0:a.prev)&&o.unshift(new l("folder",t,a.prev,a.page-1+"/"+a.pageCount,a.page-1)),(null===a||void 0===a?void 0:a.next)&&o.push(new l("folder",t,a.next,a.page+1+"/"+a.pageCount,a.page+1)),o},Parser.toMedia=function(e){var t=this;return e.data.map(function(e){return t.toItem(e)}).filter(function(e){return null!=e})},Parser.idsToCatalogue=function(e,t,o){for(var a,i=this.toCatalogue(e,o),r=[],n=function(e){var t=i.find(function(t){return t.id===e});t&&r.push(t)},l=0,d=t;l<d.length;l++)a=d[l],n(a);return r},Parser.toItem=function(e){var t,o=e._id,a=e._source,i=a.info_labels,r=a.info2=this.mergeI18n(a.i18n_info_labels);if("movie"===i.mediatype)t=this.normalizeMovie(o,a);else if("tvshow"===i.mediatype)t=this.normalizeSeries(o);else if("season"===i.mediatype)t=this.normalizeSeason(o,a);else if("episode"===i.mediatype)t=this.normalizeEpisode(o,a);else return;return t.poster=this.resolveArtItem(a.i18n_info_labels,"poster"),t.fanart=this.resolveArtItem(a.i18n_info_labels,"fanart"),r.title&&(t.title=r.title),t.title||(t.title=i.originaltitle),t.longTitle||(t.longTitle=t.title),i.year&&(t.year=i.year+""||void 0),r.plot&&(t.plot=r.plot),this.normalizeRating(a,t),this.normalizeCZSK(a,t),t},Parser.mergeI18n=function(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(o){t[o]||(t[o]=e[o])})}),t},Parser.resolveArtItem=function(e,t){for(var o,a=0,i=e;a<i.length;a++){var r=i[a],n=null===(o=null===r||void 0===r?void 0:r.art)||void 0===o?void 0:o[t];if(n&&n!="https://image.tmdb.org/t/p/originalnull"&&(null===n||void 0===n||!n.match(/^https:\/\/img.csfd.cz\/assets\/b[0-9]+\/images\/poster-free\.png$/)))return n}},Parser.normalizePlayable=function(e,t){var o,a,r,n,l,d,s,p=this,c=e.info_labels,u=null===(o=e.videos)||void 0===o?void 0:o.filter(function(e){return("trailer"===e.type||"teaser"===e.type)&&e.url}).map(function(e){return{title:"trailer"===e.type?"Trailer":"Teaser",language:p.normalizeLanguage(e.lang),url:i.ensureProtocol(e.url)}});u&&u.length&&(t.trailers=u),c.mpaa&&(t.mpaa=c.mpaa),c.studio&&(t.studio=c.studio.constructor===Array?c.studio.join(", "):c.studio),e.services&&(t.services=e.services),(null===(a=null===e||void 0===e?void 0:e.available_streams)||void 0===a?void 0:a.count)&&(t.streamCount=e.available_streams.count),c.originaltitle&&(t.originalTitle=c.originaltitle),(null===(r=c.genre)||void 0===r?void 0:r.length)&&(t.genres=c.genre.join(", ")),(null===(n=c.director)||void 0===n?void 0:n.length)&&(t.directors=c.director.join(", ")),(null===(l=e.cast)||void 0===l?void 0:l.length)&&(t.cast=e.cast.map(function(e){return e.name}).join(", ")),(null===(s=null===(d=e.stream_info)||void 0===d?void 0:d.video)||void 0===s?void 0:s.duration)&&(t.duration=e.stream_info.video.duration)},Parser.normalizeRating=function(e,t){if(null!==e&&void 0!==e&&e.ratings){var o=0,a=0;for(var i in e.ratings)a+=e.ratings[i].rating,o++;0<o&&(t.rating=(a/o).toFixed(1))}},Parser.normalizeCZSK=function(e,t){var o,a,i,r,n,l,d,s,p,c,u=null===e||void 0===e?void 0:e.stream_info,g=null===e||void 0===e?void 0:e.available_streams;("cs"==(null===(o=null===u||void 0===u?void 0:u.audio)||void 0===o?void 0:o.language)||"sk"==(null===(a=null===u||void 0===u?void 0:u.audio)||void 0===a?void 0:a.language)||"cs"==(null===(i=null===u||void 0===u?void 0:u.subtitles)||void 0===i?void 0:i.language)||"sk"==(null===(r=null===u||void 0===u?void 0:u.subtitles)||void 0===r?void 0:r.language)||(null===(d=null===(l=null===(n=null===g||void 0===g?void 0:g.languages)||void 0===n?void 0:n.audio)||void 0===l?void 0:l.items)||void 0===d?void 0:d.find(function(e){return"cs"==e.lang||"sk"==e.lang}))||(null===(c=null===(p=null===(s=null===g||void 0===g?void 0:g.languages)||void 0===s?void 0:s.subtitles)||void 0===p?void 0:p.items)||void 0===c?void 0:c.find(function(e){return"cs"==e.lang||"sk"==e.lang})))&&(t.isCZSK=!0)},Parser.normalizeMovie=function(e,t){var o=new a.Movie(e);return this.normalizePlayable(t,o),o},Parser.normalizeSeries=function(e){return new a.Series(e)},Parser.normalizeSeason=function(e,t){var o=new a.Season(e);return o.seriesId=this.normalizeRootId(t),o.seriesTitle=this.normalizeRootTitle(t),o.seasonNumber=t.info_labels.season,o.subtitle="Season "+o.seasonNumber,o.longTitle=o.seriesTitle+" - Season "+o.seasonNumber,o},Parser.normalizeEpisode=function(e,t){var o=new a.Episode(e);return this.normalizePlayable(t,o),o.seriesId=this.normalizeRootId(t),o.seriesTitle=this.normalizeRootTitle(t),o.seasonNumber=t.info_labels.season,o.episodeNumber=t.info_labels.episode,o.subtitle="Season "+o.seasonNumber+", Episode "+o.episodeNumber,o.longTitle=o.seriesTitle+" - Season "+o.seasonNumber+" - Episode "+o.episodeNumber,o},Parser.normalizeRootTitle=function(e){var t,o,a;return(null===(o=null===(t=e.i18n_info_labels.find(function(e){var t;return null===(t=null===e||void 0===e?void 0:e.parent_titles)||void 0===t?void 0:t[0]}))||void 0===t?void 0:t.parent_titles)||void 0===o?void 0:o[0])||(null===(a=null===e||void 0===e?void 0:e.root_info_labels)||void 0===a?void 0:a.originaltitle)||"(?) "+(null===e||void 0===e?void 0:e.root_parent)},Parser.normalizeRootId=function(e){return null===e||void 0===e?void 0:e.root_parent},Parser.normalizeStream=function(e){var t,o,a,i,r,n,l,d,s,p,c,u,g,y,m,h=this;if(e.video&&e.video.length){var f=e.video[0],b={size:e.size,language:null===(i=null===(a=null===(o=null===(t=e.audio)||void 0===t?void 0:t.map(function(e){return h.normalizeLanguage(e.language)}))||void 0===o?void 0:o.filter(function(e,t,o){return o.indexOf(e)===t}))||void 0===a?void 0:a.sort())||void 0===i?void 0:i.join("/"),subtitleList:null===(r=e.subtitles)||void 0===r?void 0:r.map(function(e){return h.normalizeLanguage(e.language)}),subtitles:null===(s=null===(d=null===(l=null===(n=e.subtitles)||void 0===n?void 0:n.map(function(e){return h.normalizeLanguage(e.language)}))||void 0===l?void 0:l.filter(function(e,t,o){return o.indexOf(e)===t}))||void 0===d?void 0:d.sort())||void 0===s?void 0:s.join("/"),width:f.width,height:f.height,videoCodec:null===(u=null===(c=null===(p=e.video)||void 0===p?void 0:p.map(function(e){return e.codec}))||void 0===c?void 0:c.filter(function(e,t,o){return o.indexOf(e)===t}))||void 0===u?void 0:u.join("/"),audioCodec:null===(m=null===(y=null===(g=e.audio)||void 0===g?void 0:g.map(function(e){return e.codec}))||void 0===y?void 0:y.filter(function(e,t,o){return o.indexOf(e)===t}))||void 0===m?void 0:m.join("/"),duration:f.duration,ident:e.ident};return b.hdr=!!e.video.find(function(e){return e.hdr}),b.is3d=!!e.video.find(function(e){return e["3d"]}),b}},Parser.normalizeLanguage=function(e){return e.toUpperCase()||"?"},Parser}();t.Parser=n;var l=function(e){function CatalogueLink(t,o,a,i,r){var n=e.call(this,t,o)||this;return n.url=a,n.subtitle=i,n.page=r,n}return __extends(CatalogueLink,e),CatalogueLink}(o.Base);t.CatalogueLink=l})(o=t.Scc||(t.Scc={}))})(t=e.api||(e.api={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=e.type.Catalogue,a=e.util.MD5,i=e.type.Media,r=e.util.Sha,n=function(){function Api(e){this.uuid=e}return Api.prototype.getToken=function(e,t){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(a){switch(a.label){case 0:return[4,this.getSalt(e)];case 1:return o=a.sent(),[4,this.getLogin(e,t,o)];case 2:return[2,a.sent()];}})})},Api.prototype.load=function(e,t){var o,a,i,r;return __awaiter(this,void 0,void 0,function(){var n,l,d,s,p;return __generator(this,function(c){switch(c.label){case 0:return n=""+Api.ENDPOINT+e,l={"Content-Type":"application/x-www-form-urlencoded"},[4,fetch(n,{method:"POST",body:t,headers:l})];case 1:return[4,c.sent().text()];case 2:d=c.sent(),s=new DOMParser().parseFromString(d,"application/xml");try{if(p=s.getElementsByTagName("response")[0],!p)throw new Error("Unexpected response");if("OK"!==(null===(a=null===(o=p.getElementsByTagName("status"))||void 0===o?void 0:o[0])||void 0===a?void 0:a.textContent))throw new Error((null===(r=null===(i=p.getElementsByTagName("message"))||void 0===i?void 0:i[0])||void 0===r?void 0:r.textContent)||void 0);return[2,p]}catch(e){throw e}return[2];}})})},Api.prototype.loadValue=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(i){switch(i.label){case 0:return[4,this.load(e,t)];case 1:return a=i.sent(),[2,a.getElementsByTagName(o)[0].textContent];}})})},Api.prototype.getSalt=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t="username_or_email="+encodeURIComponent(e),[4,this.loadValue(Api.PATH_SALT,t,"salt")];case 1:return[2,o.sent()];}})})},Api.prototype.getLogin=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var i,n;return __generator(this,function(l){switch(l.label){case 0:return i=r.sha1(a.md5crypt(t,o)),n="username_or_email="+encodeURIComponent(e)+"&keep_logged_in=1&password="+i,[4,this.loadValue(Api.PATH_LOGIN,n,"token")];case 1:return[2,l.sent()];}})})},Api.prototype.getUsername=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t="wst="+encodeURIComponent(e),[4,this.loadValue(Api.PATH_USER_DATA,t,"username")];case 1:return[2,o.sent()];}})})},Api.prototype.getLink=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(i){switch(i.label){case 0:return a="ident="+encodeURIComponent(e)+"&wst="+encodeURIComponent(o)+"&device_uuid="+encodeURIComponent(this.uuid)+"&force_https="+(t?1:0)+"&download_type=video_stream&device_vendor=ymovie",[4,this.loadValue(Api.PATH_FILE_LINK,a,"link")];case 1:return[2,i.sent()];}})})},Api.prototype.search=function(e,t){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(a){switch(a.label){case 0:return o="what="+encodeURIComponent(e)+"&sort=recent&limit=100&offset="+100*t+"&category=video",[4,this.load(Api.PATH_SEARCH,o)];case 1:return[2,a.sent()];}})})},Api.prototype.fileInfo=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t="ident="+encodeURIComponent(e),[4,this.load(Api.PATH_FILE_INFO,t)];case 1:return[2,o.sent()];}})})},Api.ENDPOINT="https://webshare.cz",Api.PATH_SALT="/api/salt/",Api.PATH_LOGIN="/api/login/",Api.PATH_USER_DATA="/api/user_data/",Api.PATH_FILE_LINK="/api/file_link/",Api.PATH_SEARCH="/api/search/",Api.PATH_FILE_INFO="/api/file_info/",Api}();t.Api=n;var l=function(){function Parser(){}return Parser.searchResponseToCatalogue=function(e,t,o,a){var i=Math.ceil,r=this,n=this.getInt(e,"total"),l=this.getElementsByTagNameArray(e,"file").map(function(e){return r.normalizeItem(e)}),s=i(n/100);return a&&l.unshift(new d("folder",o,a+"/"+s,t,a-1)),a+1<s&&l.push(new d("folder",o,a+2+"/"+s,t,a+1)),l},Parser.fileInfoToItem=function(e,t){return this.normalizeItem(e,t)},Parser.fileInfoToStreams=function(e,t){var o=this,a=this.getFirst(t,"video"),i=this.getFirst(t,"audio"),r={ident:e,size:this.getInt(t,"size"),duration:this.getInt(t,"length"),width:this.getInt(this.getFirst(a,"stream"),"width"),height:this.getInt(this.getFirst(a,"stream"),"height"),videoCodec:this.getElementsByTagNameArray(a,"stream").map(function(e){return o.getText(e,"format")}).join("/"),audioCodec:this.getElementsByTagNameArray(i,"stream").map(function(e){return o.getText(e,"format")}).join("/")};return[r]},Parser.getFirst=function(e,t){var o;return e&&(null===(o=e.getElementsByTagName(t))||void 0===o?void 0:o[0])},Parser.getText=function(e,t){var o;return(null===(o=this.getFirst(e,t))||void 0===o?void 0:o.textContent)||void 0},Parser.getInt=function(e,t){return parseInt(e&&this.getText(e,t)||"")},Parser.getElementsByTagNameArray=function(e,t){if(!e)return[];for(var o=e.getElementsByTagName(t),a=[],r=0;r<o.length;r++)a.push(o[r]);return a},Parser.normalizeItem=function(e,t){var o=new i.Webshare(t||this.getText(e,"ident"));o.poster=this.getText(e,"img"),o.title=o.longTitle=this.getText(e,"name");var a=this.getInt(e,"positive_votes"),r=this.getInt(e,"negative_votes");return(a||r)&&(o.rating=(a||0)+":"+(r||0)),o.size=this.getInt(e,"size"),o},Parser}();t.Parser=l;var d=function(e){function CatalogueSearch(t,o,a,i,r){var n=e.call(this,t,o)||this;return n.subtitle=a,n.query=i,n.page=r,n}return __extends(CatalogueSearch,e),CatalogueSearch}(o.Base);t.CatalogueSearch=d})(o=t.Webshare||(t.Webshare={}))})(t=e.api||(e.api={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var o,t=Math.floor;(function(e){var o;(function(e){var o=function(){function Api(){}return Api.prototype.pairPut=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,a;return __generator(this,function(i){switch(i.label){case 0:return o="https://ymovie.streamcinema.cz/api/v1/pair/"+t,[4,fetch(o,{method:"PUT",body:e})];case 1:return a=i.sent(),[2,a.ok];}})})},Api.prototype.pairGet=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,a;return __generator(this,function(i){switch(i.label){case 0:return t="https://ymovie.streamcinema.cz/api/v1/pair/"+e,[4,fetch(t)];case 1:return o=i.sent(),o.ok?[4,o.json()]:[2];case 2:return a=i.sent(),[2,a&&a.token];}})})},Api.prototype.generateDeviceId=function(){for(var e="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",o="";4>o.length;)o+=e[t(Math.random()*e.length)];return o},Api.ENDPOINT="",Api}();e.Api=o})(o=e.YMovie||(e.YMovie={}))})(o=e.api||(e.api={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t=function(){function Base(e){this.data=e}return Object.defineProperty(Base.prototype,"type",{get:function(){return Base.getType(this.constructor)},enumerable:!1,configurable:!0}),Base.getType=function(e){return e.$type||(e.$type="$Action"+Base.typeId++)},Base.typeId=0,Base}();e.Base=t})(t=e.Action||(e.Action={}))})(t=e.type||(e.type={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(t){function text(e){return document.createTextNode(e)}function create(e,t,o){var a=document.createElement(e);return append(a,o),t&&(a.className=t),a}function append(t,o){if(o&&e.Util.isString(o))t.appendChild(text(o));else if(e.Util.isNumber(o))t.appendChild(text(o+""));else if(o&&e.Util.isArray(o))for(var a,i=0,r=o;i<r.length;i++)a=r[i],append(t,a);else o&&t.appendChild(o)}t.a=function a(e,t,o,i){var r=create("a",e,t);return o&&(r.href=o),i&&(r.target=i),r},t.button=function button(e,t){return create("button",e,t)},t.div=function div(e,t){return create("div",e,t)},t.form=function form(e,t){return create("form",e,t)},t.h1=function h1(e){return create("h1",void 0,e)},t.h2=function h2(e){return create("h2",void 0,e)},t.img=function img(e,t){var o=create("img",e);return o.src=t,o},t.input=function input(e,t,o,a){var i=create("input",e);return i.name=t,i.type="text",o&&(i.value=o),a&&(i.placeholder=a),i},t.p=function p(e,t){return create("p",e,t)},t.password=function password(e,t,o,a){var i=create("input",e);return i.name=t,i.type="password",o&&(i.value=o),a&&(i.placeholder=a),i},t.span=function span(e,t){return create("span",e,t)},t.submit=function submit(e,t){var o=create("input",e);return o.type="submit",t&&(o.value=t),o},t.text=text,t.textarea=function textarea(e,t){var o=create("textarea",e);return t&&(o.value=t),o},t.script=function script(e){var t=create("script");return t.src=e,t},t.create=create,t.clean=function clean(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.append=append,t.remove=function remove(e){e.parentElement&&e.parentElement.removeChild(e)}})(t=e.DOM||(e.DOM={}))})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t=function(){function GA(){}return GA.prototype.init=function(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,this.ga("create","UA-183634-10","auto"),this.ga("send","pageview")},GA.prototype.pageview=function(e,t){this.ga("set","page",e),this.ga("set","title",t),this.ga("send","pageview")},GA.prototype.ga=function(e,t,o){window.ga(e,t,o)},GA}();e.GA=t})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){e.smallPoster=function smallPoster(e){if(e){var t=e.replace("http://","https://");return-1<t.indexOf("image.tmdb.org")?t.replace("/original/","/w342/"):-1<t.indexOf("img.csfd.cz")?t.replace("//img.csfd.cz","//image.pmgstatic.com/cache/resized/w180"):-1<t.indexOf("thetvdb.com")?t.replace(/^(?!.+_t)(.+)(\.[a-z]+)$/,"$1_t$2"):-1<t.indexOf("assets.fanart.tv")?t.replace("assets.fanart.tv","fanart.tv/detailpreview"):t}},e.largeBackground=function largeBackground(e){if(e){var t=e.replace("http://","https://");return-1<t.indexOf("image.tmdb.org")?t.replace("/original/","/w1280/"):t}}})(t=e.Thumbnail||(e.Thumbnail={}))})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t=function(){function Timeout(e){this.interval=e}return Object.defineProperty(Timeout.prototype,"running",{get:function(){return void 0!==this.id},enumerable:!1,configurable:!0}),Timeout.prototype.start=function(e){var t=this;this.stop(),this.id=setTimeout(function(){t.stop(),e()},this.interval)},Timeout.prototype.stop=function(){clearTimeout(this.id),this.id=void 0},Timeout}();e.Timeout=t})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){function pad(e){return 10>e?"0"+e:e+""}e.isArray=function isArray(e){return e&&"object"==typeof e&&e.constructor===Array},e.isObject=function isObject(e){return e&&"object"==typeof e&&e.constructor===Object},e.isString=function isString(e){return"string"==typeof e},e.isNumber=function isNumber(e){return"number"==typeof e},e.isError=function isError(e){return e instanceof Error},e.getAndroidVersion=function getAndroidVersion(){var e=navigator.userAgent.match(/Android\s([0-9\.]+)/);return e?e[1]:void 0},e.isYmovieWrapper=function isYmovieWrapper(){return"undefined"!=typeof YmovieWrapper},e.getYmovieWrapper=function getYmovieWrapper(){return YmovieWrapper},e.removeDiacritics=function removeDiacritics(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},e.unshiftAndLimit=function unshiftAndLimit(e,t,o){var a=e.filter(function(e){return e!==t});return a.unshift(t),a.splice(0,o)},e.uuidv4=function uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),o="x"==e?t:8|3&t;return o.toString(16)})},e.getCommitDate=function getCommitDate(){try{return new Date(parseFloat("1644866553553")||0)}catch(e){return new Date}},e.formatSize=function formatSize(e){if(e){var t=e/1024/1024;return 100<t?(t/1024).toFixed(1)+"G":t.toFixed(1)+"M"}},e.formatDuration=function formatDuration(e){var t=e?0|e:0,o=0|t/60;t%=60;var a=0|o/60;return o%=60,a+":"+pad(o)+":"+pad(t)},e.containsExtension=function containsExtension(e){var t=e.split("."),o=t[t.length-1];return!!o&&5>o.length}})(t=e.Util||(e.Util={}))})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t=function(){function Watched(){}return Watched.addMovie=function(e){this.add(this.KEY_WATCHED_MOVIES,e)},Object.defineProperty(Watched,"movies",{get:function(){return this.get(this.KEY_WATCHED_MOVIES)},enumerable:!1,configurable:!0}),Watched.addSeries=function(e){this.add(this.KEY_WATCHED_SERIES,e)},Object.defineProperty(Watched,"series",{get:function(){return this.get(this.KEY_WATCHED_SERIES)},enumerable:!1,configurable:!0}),Watched.addEpisode=function(e){this.add(this.KEY_WATCHED_EPISODES,e)},Object.defineProperty(Watched,"episodes",{get:function(){return this.get(this.KEY_WATCHED_EPISODES)},enumerable:!1,configurable:!0}),Watched.add=function(t,o){var a=this.MAX_WATCHED_LENGTH;e.Storage.set(t,e.Util.unshiftAndLimit(this.get(t),o,a).join(","))},Watched.get=function(t){var o=e.Storage.get(t);return o?o.split(","):[]},Watched.getMap=function(){return{movies:new Set(this.movies),series:new Set(this.series),episodes:new Set(this.episodes)}},Watched.KEY_WATCHED_MOVIES="KEY_WATCHED_MOVIES",Watched.KEY_WATCHED_SERIES="KEY_WATCHED_SERIES",Watched.KEY_WATCHED_EPISODES="KEY_WATCHED_EPISODES",Watched.MAX_WATCHED_LENGTH=100,Watched}();e.Watched=t})(t=e.util||(e.util={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o=e.util.DOM,a=e.type.Action,i=function(){function Component(t){this.element=e.util.Util.isString(t)?o.create(t):t,this.element.classList.add(this.constructor.name)}return Object.defineProperty(Component.prototype,"loading",{get:function(){return this.element.classList.contains("loading")},set:function(e){this.element.classList.toggle("loading",e)},enumerable:!1,configurable:!0}),Component.prototype.trigger=function(e){return this.triggerOn(this.element,e)},Component.prototype.triggerGlobal=function(e){return this.triggerOn(document.body,e)},Component.prototype.triggerOn=function(e,t){return e.dispatchEvent(new CustomEvent(t.type,{bubbles:!0,detail:t.data})),t.data},Component.prototype.listen=function(e,t){this.listenOn(this.element,e,t)},Component.prototype.listenGlobal=function(e,t){this.listenOn(document.body,e,t)},Component.prototype.listenOn=function(e,t,o){e.addEventListener(a.Base.getType(t),o)},Component.prototype.unlisten=function(e,t){this.unlistenOn(this.element,e,t)},Component.prototype.unlistenGlobal=function(e,t){this.unlistenOn(document.body,e,t)},Component.prototype.unlistenOn=function(e,t,o){e.removeEventListener(a.Base.getType(t),o)},Component.prototype.append=function(e){o.append(this.element,e)},Component.prototype.clean=function(){o.clean(this.element)},Component.prototype.remove=function(){o.remove(this.element)},Component.prototype.render=function(){return this.element},Component}();t.Component=i})(t=e.view||(e.view={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o=e.api.Scc,a=function(e){function App(){var t=e.call(this,document.body)||this;return t.menu=[new o.CatalogueLink("movie","Movies",o.Api.PATH_MOVIES),new o.CatalogueLink("series","Series",o.Api.PATH_SERIES),new o.CatalogueLink("concert","Concerts",o.Api.PATH_CONCERTS),new o.CatalogueLink("fairyTale","Fairy Tales",o.Api.PATH_FAIRY_TALES),new o.CatalogueLink("animated","Animated Movies",o.Api.PATH_ANIMATED_MOVIES),new o.CatalogueLink("animated","Animated Series",o.Api.PATH_ANIMATED_SERIES),new o.CatalogueLink("movie","Movies CZ/SK",o.Api.PATH_MOVIES_CZSK),new o.CatalogueLink("series","Series CZ/SK",o.Api.PATH_SERIES_CZSK),new o.CatalogueLink("popular","Popular Movies",o.Api.PATH_POPULAR_MOVIES),new o.CatalogueLink("popular","Popular Series",o.Api.PATH_POPULAR_SERIES),new o.CatalogueLink("movie","Added Movies",o.Api.PATH_MOVIES_ADDED),new o.CatalogueLink("series","Added Series",o.Api.PATH_SERIES_ADDED)],t}return __extends(App,e),App.prototype.toggleClass=function(e,t){this.element.classList.toggle(e,t)},App.prototype.toggleApiClass=function(e,t){this.toggleClass(e+"-ok","ok"===t),this.toggleClass(e+"-na","na"===t),this.toggleClass(e+"-defined","defined"===t)},App.prototype.onApiWebshareStatus=function(e){this.toggleApiClass("webshare",e)},App}(t.Component);t.App=a})(t=e.view||(e.view={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t=function(e){function DataComponent(t,o){var a=e.call(this,t)||this;return a.data=o,a}return __extends(DataComponent,e),DataComponent.prototype.update=function(e){return this.data=e,this.render()},DataComponent}(e.Component);e.DataComponent=t})(t=e.view||(e.view={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=function(e){function Api(){var t=e.call(this)||this;return t.pairIntervalTimeout=1e4,t._deviceId=t.ymovie.generateDeviceId(),t}return __extends(Api,e),Api.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.webshareStatusChanged.add(this.onWebshareStatusChanged.bind(this)),[4,e.prototype.init.call(this)];case 1:return t.sent(),[2];}})})},Object.defineProperty(Api.prototype,"deviceId",{get:function(){return this._deviceId},enumerable:!1,configurable:!0}),Api.prototype.onWebshareStatusChanged=function(e){clearInterval(this.pairInterval),"ok"!==e&&(this.pairInterval=setInterval(this.onPairInterval.bind(this),this.pairIntervalTimeout))},Api.prototype.onPairInterval=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.ymovie.pairGet(this.deviceId)];case 1:return(e=t.sent(),!e)?[2]:(this.webshareToken=e,this.checkWebshareStatus(),[2]);}})})},Api}(e.api.Api);t.Api=o})(o=t.api||(t.api={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o;(function(t){var o=e.type.Action.Base,a=function(e){function CatalogueItemSelected(){return null!==e&&e.apply(this,arguments)||this}return __extends(CatalogueItemSelected,e),CatalogueItemSelected}(o);t.CatalogueItemSelected=a;var i=function(e){function RequestMoreItems(){return null!==e&&e.apply(this,arguments)||this}return __extends(RequestMoreItems,e),RequestMoreItems}(o);t.RequestMoreItems=i;var r=function(e){function CatalogueItemFocused(){return null!==e&&e.apply(this,arguments)||this}return __extends(CatalogueItemFocused,e),CatalogueItemFocused}(o);t.CatalogueItemFocused=r;var n=function(e){function RequestFocus(){return null!==e&&e.apply(this,arguments)||this}return __extends(RequestFocus,e),RequestFocus}(o);t.RequestFocus=n;var l=function(e){function Focused(){return null!==e&&e.apply(this,arguments)||this}return __extends(Focused,e),Focused}(o);t.Focused=l;var d=function(e){function ShowScreen(){return null!==e&&e.apply(this,arguments)||this}return __extends(ShowScreen,e),ShowScreen}(o);t.ShowScreen=d;var s=function(e){function CatalogueLoaded(){return null!==e&&e.apply(this,arguments)||this}return __extends(CatalogueLoaded,e),CatalogueLoaded}(o);t.CatalogueLoaded=s;var p=function(e){function SearchCatalogueLoaded(){return null!==e&&e.apply(this,arguments)||this}return __extends(SearchCatalogueLoaded,e),SearchCatalogueLoaded}(o);t.SearchCatalogueLoaded=p;var c=function(e){function StreamsLoaded(){return null!==e&&e.apply(this,arguments)||this}return __extends(StreamsLoaded,e),StreamsLoaded}(o);t.StreamsLoaded=c;var u=function(e){function Play(){return null!==e&&e.apply(this,arguments)||this}return __extends(Play,e),Play}(o);t.Play=u;var g=function(e){function EmulateFocusAction(){return null!==e&&e.apply(this,arguments)||this}return __extends(EmulateFocusAction,e),EmulateFocusAction}(o);t.EmulateFocusAction=g;var y=function(e){function OSKKeySubmit(){return null!==e&&e.apply(this,arguments)||this}return __extends(OSKKeySubmit,e),OSKKeySubmit}(o);t.OSKKeySubmit=y;var m=function(e){function GlobalKeyDown(){return null!==e&&e.apply(this,arguments)||this}return __extends(GlobalKeyDown,e),GlobalKeyDown}(o);t.GlobalKeyDown=m;var h=function(e){function Search(){return null!==e&&e.apply(this,arguments)||this}return __extends(Search,e),Search}(o);t.Search=h;var f=function(e){function ShowNotification(){return null!==e&&e.apply(this,arguments)||this}return __extends(ShowNotification,e),ShowNotification}(o);t.ShowNotification=f;var b=function(e){function StreamUrlResolved(){return null!==e&&e.apply(this,arguments)||this}return __extends(StreamUrlResolved,e),StreamUrlResolved}(o);t.StreamUrlResolved=b;var v=function(e){function Log(){return null!==e&&e.apply(this,arguments)||this}return __extends(Log,e),Log}(o);t.Log=v;var S=function(e){function AudioTrackSelected(){return null!==e&&e.apply(this,arguments)||this}return __extends(AudioTrackSelected,e),AudioTrackSelected}(o);t.AudioTrackSelected=S;var _=function(e){function TextTrackSelected(){return null!==e&&e.apply(this,arguments)||this}return __extends(TextTrackSelected,e),TextTrackSelected}(o);t.TextTrackSelected=_;var T=function(e){function RegisterFocusable(){return e.call(this,[])||this}return __extends(RegisterFocusable,e),RegisterFocusable}(o);t.RegisterFocusable=T;var A=function(e){function BlurStreams(){return e.call(this,void 0)||this}return __extends(BlurStreams,e),BlurStreams}(o);t.BlurStreams=A;var E=function(e){function GoBack(){return e.call(this,void 0)||this}return __extends(GoBack,e),GoBack}(o);t.GoBack=E})(o=t.Action||(t.Action={}))})(o=t.type||(t.type={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o;(function(t){var o=e.type.Catalogue,a=function(e){function Callback(t,o,a){var i=e.call(this,t,o)||this;return i.callback=a,i}return __extends(Callback,e),Callback}(o.Base);t.Callback=a})(o=t.Catalogue||(t.Catalogue={}))})(o=t.type||(t.type={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t=function(){function ClassName(){}return ClassName.updateType=function(e,t,o){for(var a,r=t+"-",n=e.classList.length-1;0<=n;n--)a=e.classList[n],a.startsWith(r)&&e.classList.remove(a);null!=o&&e.classList.add(r+o)},ClassName.getType=function(e,t){for(var o,a=t+"-",r=e.classList.length-1;0<=r;r--)if(o=e.classList[r],o.startsWith(a))return o.substr(a.length)},ClassName}();e.ClassName=t})(t=e.util||(e.util={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t;(function(e){e.getGlobalRect=function getGlobalRect(e){var t=e.getBoundingClientRect();return t.width?t:void 0}})(t=e.DOMUtil||(e.DOMUtil={}))})(t=e.util||(e.util={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var o,t=Math.min;(function(e){var o;(function(e){var o;(function(e){var o=function(){function Manager(){this.virtualXOffset=0,this.virtualYOffset=0}return Object.defineProperty(Manager.prototype,"focusedComponent",{get:function(){return this._focusedComponent},set:function(e){var t;this._focusedComponent==e||(null!=this._focusedComponent&&this._focusedComponent.blur(),this._focusedComponent=e,null!=this._focusedComponent&&this._focusedComponent.focus(),this.virtualXOffset=0,this.virtualYOffset=0,null===(t=this.focusedComponentChanged)||void 0===t?void 0:t.call(this,this._focusedComponent))},enumerable:!1,configurable:!0}),Object.defineProperty(Manager.prototype,"virtualX",{get:function(){var e;return this._focusedComponent?(null===(e=this._focusedComponent.getBoundingRect())||void 0===e?void 0:e.centerX)||0+this.virtualXOffset:0},enumerable:!1,configurable:!0}),Object.defineProperty(Manager.prototype,"virtualY",{get:function(){var e;return this._focusedComponent?(null===(e=this._focusedComponent.getBoundingRect())||void 0===e?void 0:e.centerY)||0+this.virtualYOffset:0},enumerable:!1,configurable:!0}),Manager.prototype.executeEvent=function(e,t){var o=this._focusedComponent;if(!o)return!1;var a=o.modifyFocusEvent(t);if(o.executeFocusEvent(a))return!0;if(!this.isDirection(a.action))return!1;var i=this.getNearest(e,o,a);if(null!=i){var r=this.virtualX,n=this.virtualY;return this.focusedComponent=i,this.optimizeVirtualPosition(a.action,r,n,this.focusedComponent.getBoundingRect()),!0}return!1},Manager.prototype.getNearest=function(e,t,o){var i=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,n=o.action,l=this.virtualX,d=this.virtualY,s=t.getBoundingRect(),p=this.getNearestForRect(e,t,s,l,d,n);if(p)return p;if("left"==n&&t.allowHorizontalCirculation(o)){var c=new a(r,s.y,s.width,s.height);return this.getNearestForRect(e,t,c,Number.MAX_SAFE_INTEGER,d,n)}if("right"==n&&t.allowHorizontalCirculation(o)){var c=new a(i,s.y,s.width,s.height);return this.getNearestForRect(e,t,c,Number.MIN_SAFE_INTEGER,d,n)}},Manager.prototype.getNearestForRect=function(e,t,o,a,i,r){for(var n=Number.POSITIVE_INFINITY,l,d,s=n,p=n,c=0,u=e;c<u.length;c++)if(d=u[c],t!=d&&t.getFocusLayer()==d.getFocusLayer()){var g=d.getBoundingRect();if(g&&this.inDirection(r,g,o)&&this.overlaps(r,g,o)){var y=this.calculateDistance(a,g.x,g.right),m=this.calculateDistance(i,g.y,g.bottom);this.isCloser(r,y,m,s,p)&&(l=d,s=y,p=m)}}return l},Manager.prototype.isDirection=function(e){return"left"==e||"right"==e||"up"==e||"down"==e},Manager.prototype.isHorizontal=function(e){return"left"==e||"right"==e},Manager.prototype.calculateDistance=function(e,o,a){var i=Math.abs;return t(i(e-o),i(e-a))},Manager.prototype.isCloser=function(e,t,o,a,i){return"up"==e||"down"==e?o<i||o==i&&t<a:("left"==e||"right"==e)&&(t<a||t==a&&o<i)},Manager.prototype.optimizeVirtualPosition=function(e,t,o,a){"left"==e||"right"==e?this.virtualYOffset=o>=a.y&&o<=a.bottom?o-a.centerY:0:("up"==e||"down"==e)&&(this.virtualXOffset=t>=a.x&&t<=a.right?t-a.centerX:0)},Manager.prototype.inDirection=function(e,t,o){return"left"==e&&t.centerX<o.centerX||"right"==e&&t.centerX>o.centerX||"up"==e&&t.centerY<o.centerY||"down"==e&&t.centerY>o.centerY},Manager.prototype.overlaps=function(e,t,o){var a=this.isHorizontal(e);return a&&this.overlapsHorizontal(t,o)||!a&&this.overlapsVertical(t,o)},Manager.prototype.overlapsHorizontal=function(e,t){return e.centerY>t.y&&e.centerY<t.y+t.height||t.centerY>e.y&&t.centerY<e.y+e.height},Manager.prototype.overlapsVertical=function(e,t){return e.centerX>t.x&&e.centerX<t.x+t.width||t.centerX>e.x&&t.centerX<e.x+e.width},Manager}();e.Manager=o;var a=function(){return function Rect(e,t,o,a){this.x=e,this.y=t,this.width=o,this.height=a,this.centerX=e+o/2,this.centerY=t+a/2,this.right=e+o,this.bottom=t+a}}();e.Rect=a})(o=e.Focus||(e.Focus={}))})(o=e.util||(e.util={}))})(o=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t=function(){function Keyboard(){}return Keyboard.eventToAction=function(e){return this.isLeft(e)?"left":this.isRight(e)?"right":this.isUp(e)?"up":this.isDown(e)?"down":this.isSubmit(e)?"submit":this.isBack(e)?"back":void 0},Keyboard.isLeft=function(e){return"ArrowLeft"==e.key||"MediaRewind"==e.key||"Digit4"==e.code||37==e.keyCode||52==e.keyCode},Keyboard.isRight=function(e){return"ArrowRight"==e.key||"MediaFastForward"==e.key||"Digit6"==e.code||39==e.keyCode||54==e.keyCode},Keyboard.isUp=function(e){return"ArrowUp"==e.key||"Digit2"==e.code||38==e.keyCode||50==e.keyCode},Keyboard.isDown=function(e){return"ArrowDown"==e.key||"Digit8"==e.code||40==e.keyCode||56==e.keyCode},Keyboard.isSubmit=function(e){return"Enter"==e.key||"Digit5"==e.code||13==e.keyCode||53==e.keyCode},Keyboard.isBack=function(e){return"Escape"==e.key||"Backspace"==e.key||"Digit0"==e.code||8==e.keyCode||27==e.keyCode||48==e.keyCode||10009==e.keyCode},Keyboard.isPlay=function(e){return"MediaPlay"===e.key},Keyboard.isPlayPause=function(e){return"MediaPlayPause"===e.key||10252==e.keyCode},Keyboard.isStop=function(e){return"MediaStop"===e.key},Keyboard}();e.Keyboard=t})(t=e.util||(e.util={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o;(function(t){var o=e.util.Util,a=function(){function Manager(){this.changed=new e.util.Signal.Signal1,this.history=["media"],this.historyIndex=0}return Manager.prototype.init=function(){window.addEventListener("popstate",this.onWindowPopState.bind(this))},Object.defineProperty(Manager.prototype,"current",{get:function(){return this.history[this.historyIndex]},enumerable:!1,configurable:!0}),Manager.prototype.goAbout=function(){this.pushState("about")},Manager.prototype.isAbout=function(e){return"about"===e},Manager.prototype.goHome=function(){this.pushState("media")},Manager.prototype.goPlayer=function(){this.pushState("player")},Manager.prototype.isPlayer=function(e){return"player"===e},Manager.prototype.goSearch=function(){this.pushState("search")},Manager.prototype.isSearch=function(e){return"search"===e},Manager.prototype.goSetup=function(){this.pushState("setup")},Manager.prototype.isSetup=function(e){return"setup"===e},Manager.prototype.goBack=function(){o.isYmovieWrapper()&&o.getYmovieWrapper().quit(),0<this.historyIndex&&(this.historyIndex--,this.triggerChange())},Manager.prototype.pushState=function(e){if(e!==this.current){this.history.splice(this.historyIndex+1),this.history.push(e),this.historyIndex=this.history.length-1;var t={state:e,index:this.historyIndex};history.pushState(t,"")}this.triggerChange()},Manager.prototype.triggerChange=function(){this.changed.dispatch(this.history[this.historyIndex])},Manager.prototype.onWindowPopState=function(e){var t=e.state;t&&0<=t.index&&t.index<this.history.length&&(this.historyIndex=t.index,this.triggerChange())},Manager}();t.Manager=a})(o=t.Nav||(t.Nav={}))})(o=t.util||(t.util={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t=function(){function Polyfill(){}return Polyfill.init=function(){Polyfill.stringStartsWith(),Polyfill.arrayMap(),Polyfill.arrayFilter(),Polyfill.arrayFind()},Polyfill.stringStartsWith=function(){var e=String.prototype;e.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var o=0<t?0|t:0;return this.substring(o,o+e.length)===e}})},Polyfill.arrayMap=function(){Array.prototype.map||(Array.prototype.map=function(e){for(var t,o=[],a=0,i=this;a<i.length;a++)t=i[a],o.push(e(t));return o})},Polyfill.arrayFilter=function(){Array.prototype.filter||(Array.prototype.filter=function(e,o){'use strict';if(!(("Function"==typeof e||"function"==typeof e)&&this))throw new TypeError;var a,r=this.length>>>0,n=Array(r),l=this,t=0,d=-1;if(void 0===o)for(;++d!==r;)d in this&&(a=l[d],e(l[d],d,l)&&(n[t++]=a));else for(;++d!==r;)d in this&&(a=l[d],e.call(o,l[d],d,l)&&(n[t++]=a));return n.length=t,n})},Polyfill.arrayFind=function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError("\"this\" is null or not defined");var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var a,i=arguments[1],r=0;r<o;){if(a=t[r],e.call(i,a,r,t))return a;r++}},configurable:!0,writable:!0})},Polyfill}();e.Polyfill=t})(t=e.util||(e.util={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t;(function(e){e.on=function on(e,t){e.style.transform=t,e.style.webkitTransform=t}})(t=e.Transform||(e.Transform={}))})(t=e.util||(e.util={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a=t.type.Action,i=t.type.Catalogue,r=t.util.Focus,n=e.util.GA,l=t.util.Keyboard,d=e.type.Media,s=t.util.Nav,p=e.api.Scc,c=e.util.Timeout,u=e.util.Watched,g=e.util.Util,y=function(e){function App(){var a=null!==e&&e.apply(this,arguments)||this;return a.api=new t.api.Api,a.nav=new s.Manager,a.ga=new n,a.focus=new r.Manager,a.header=new o.Header,a.notification=new o.Notification,a.context={deviceId:a.api.deviceId,menu:a.menu},a.mediaScreen=new o.media.MediaScreen(a.context),a.searchScreen=new o.search.SearchScreen(a.context),a.setupScreen=new o.setup.SetupScreen(a.context),a.aboutScreen=new o.about.AboutScreen(a.context),a.playerScreen=new o.player.PlayerScreen(a.context),a.help=new o.Help,a.mouseActivityTimeout=new c(1e3),a}return __extends(App,e),App.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return t.util.Polyfill.init(),[4,new App().init()];case 1:return e.sent(),[2];}})})},App.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.menu.push(new i.Callback("watched","Watched Movies",this.loadWatchedMovies.bind(this))),this.menu.push(new i.Callback("watched","Watched Series",this.loadWatchedSeries.bind(this))),this.api.webshareStatusChanged.add(this.onApiWebshareStatus.bind(this)),this.listen(a.CatalogueItemSelected,this.onCatalogueItemSelected.bind(this)),this.listen(a.RequestFocus,function(t){var o;return e.requestFocus(null===(o=t.detail)||void 0===o?void 0:o.component)}),this.listen(a.ShowScreen,function(t){return e.showScreen(t.detail)}),this.listen(a.Play,this.onPlay.bind(this)),this.listen(a.EmulateFocusAction,function(t){return e.executeFocusAction(t.detail)}),this.listen(a.Search,this.onSearch.bind(this)),this.listen(a.ShowNotification,function(t){return e.showNotification(t.detail)}),this.listen(a.RequestMoreItems,this.onRequestMoreItems.bind(this)),this.listen(a.GoBack,function(){return e.nav.goBack()}),this.listen(a.Log,function(t){return e.help.logMessage(t.detail)}),this.ga.init(),[4,this.api.init()];case 1:return t.sent(),this.nav.changed.add(this.onNavChange.bind(this)),this.nav.init(),this.render(),this.initDeeplink(),this.element.classList.toggle("initializing",!1),document.addEventListener("keydown",this.onDocumentKeyDown.bind(this)),document.addEventListener("mousemove",this.onDocumentMouseMove.bind(this)),[2];}})})},App.prototype.initDeeplink=function(){var e=this.nav,t=e.current;return e.isAbout(t)?e.goAbout():e.isSearch(t)?e.goSearch():e.isSetup(t)?e.goSetup():void this.nav.goHome()},App.prototype.render=function(){return this.append([this.mediaScreen.render(),this.searchScreen.render(),this.setupScreen.render(),this.aboutScreen.render(),this.playerScreen.render(),this.header.render(),this.notification.render(),this.help.render()]),e.prototype.render.call(this)},App.prototype.ensureFocus=function(e){this.focus.focusedComponent||this.requestFocus(e)},App.prototype.requestFocus=function(e){this.focus.focusedComponent=e},App.prototype.showScreen=function(e){var t=this.nav;return"about"===e?t.goAbout():"player"===e?t.goPlayer():"search"===e?t.goSearch():"setup"===e?t.goSetup():t.goHome()},App.prototype.showNotification=function(e){this.notification.update(e)},App.prototype.activateScreen=function(e,o,a){t.util.ClassName.updateType(this.element,"screen",e),this.header.current=e;for(var i,r=[this.aboutScreen,this.mediaScreen,this.playerScreen,this.searchScreen,this.setupScreen],n=0,l=r;n<l.length;n++)i=l[n],i!=o&&i.isActive&&i.deactivate();o.activate(this.focus.focusedComponent!==a),a&&this.ensureFocus(a)},App.prototype.executeFocusAction=function(e){var t=this.trigger(new a.RegisterFocusable),o=this.focus.executeEvent(t,{action:e});o||"back"!==e||this.nav.goBack()},App.prototype.loadWatchedMovies=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.api.loadIds(u.movies,"more")]})})},App.prototype.loadWatchedSeries=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.api.loadIds(u.series,"more")]})})},App.prototype.onCatalogueItemSelected=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,r,n,l,s,c,u,g,y,m,h,f,b,v,S,_,T,A,E,C;return __generator(this,function(w){switch(w.label){case 0:return(t=e.detail.data,!(t instanceof p.CatalogueLink))?[3,2]:(o=this.trigger,n=(r=a.CatalogueLoaded).bind,_={item:t,newRow:!0},[4,this.api.loadPath(t.url,"more")]);case 1:return[2,o.apply(this,[new(n.apply(r,[void 0,(_.catalogue=w.sent(),_)]))])];case 2:return t instanceof i.Callback?(l=this.trigger,c=(s=a.CatalogueLoaded).bind,T={item:t,newRow:!0},[4,t.callback()]):[3,4];case 3:return[2,l.apply(this,[new(c.apply(s,[void 0,(T.catalogue=w.sent(),T)]))])];case 4:return t instanceof d.Series?(u=this.trigger,y=(g=a.CatalogueLoaded).bind,A={item:t,newRow:!0},[4,this.api.loadSeasons(t.id,"more")]):[3,6];case 5:return[2,u.apply(this,[new(y.apply(g,[void 0,(A.catalogue=w.sent(),A)]))])];case 6:return t instanceof d.Season?(m=this.trigger,f=(h=a.CatalogueLoaded).bind,E={item:t,newRow:!0},[4,this.api.loadEpisodes(t.id,"more")]):[3,8];case 7:return[2,m.apply(this,[new(f.apply(h,[void 0,(E.catalogue=w.sent(),E)]))])];case 8:return t instanceof d.PlayableScc?(b=this.trigger,S=(v=a.StreamsLoaded).bind,C={media:t},[4,this.api.loadStreams(t)]):[3,10];case 9:return[2,b.apply(this,[new(S.apply(v,[void 0,(C.streams=w.sent(),C)]))])];case 10:return[2];}})})},App.prototype.onRequestMoreItems=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,i,r,n;return __generator(this,function(l){switch(l.label){case 0:return t=e.detail,o=this.trigger,r=(i=a.CatalogueLoaded).bind,n={item:t,newRow:!1},[4,this.api.loadPath(t.url,"more")];case 1:return[2,o.apply(this,[new(r.apply(i,[void 0,(n.catalogue=l.sent(),n)]))])];}})})},App.prototype.onSearch=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,i;return __generator(this,function(r){switch(r.label){case 0:return t=this.trigger,i=(o=a.SearchCatalogueLoaded).bind,[4,this.api.searchScc(e.detail,"more")];case 1:return[2,t.apply(this,[new(i.apply(o,[void 0,r.sent()]))])];}})})},App.prototype.onPlay=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,i,r,n,l;return __generator(this,function(s){switch(s.label){case 0:return t=e.detail,o=t.stream,i=t.media,r="https:"===document.location.protocol,this.api.webshareToken?[4,this.api.resolveStreamUrl(o,r)]:[3,2];case 1:return l=s.sent(),[3,3];case 2:l=void 0,s.label=3;case 3:return n=l,this.trigger(new a.StreamUrlResolved({media:i,stream:o,url:n})),n&&(g.isYmovieWrapper()?g.getYmovieWrapper().play(n,i.title):(this.playerScreen.update({media:e.detail.media,stream:e.detail.stream,url:n}),this.showScreen("player"))),i instanceof d.Movie&&u.addMovie(i.id),i instanceof d.Episode&&(i.seriesId&&u.addSeries(i.seriesId),u.addEpisode(i.id)),[2];}})})},App.prototype.onNavChange=function(e){var t=this.nav,o=e;this.ga.pageview(document.location.pathname,document.title),t.isAbout(o)?this.activateScreen("about",this.aboutScreen,this.header):t.isPlayer(o)?this.activateScreen("player",this.playerScreen):t.isSearch(o)?this.activateScreen("search",this.searchScreen,this.header):t.isSetup(o)?this.activateScreen("setup",this.setupScreen,this.header):this.activateScreen("media",this.mediaScreen,this.header)},App.prototype.onDocumentKeyDown=function(e){if(this.trigger(new a.GlobalKeyDown(e)),!e.defaultPrevented){var t=l.eventToAction(e);t?(e.preventDefault(),this.executeFocusAction(t)):this.help.logKey(e)}},App.prototype.onDocumentMouseMove=function(){var e=this;this.element.classList.toggle("mouseActive",!0),this.mouseActivityTimeout.start(function(){return e.element.classList.toggle("mouseActive",!1)})},App}(e.view.App);o.App=y})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a=e.tv.type.Action,i=e.view.Component,r=t.util.DOMUtil,n=t.util.Focus,l=function(e){function FocusableComponent(o){var a=e.call(this,o)||this;return a.listenGlobal(t.type.Action.RegisterFocusable,a.onRegister.bind(a)),a}return __extends(FocusableComponent,e),Object.defineProperty(FocusableComponent.prototype,"focused",{get:function(){return this.element.classList.contains("focused")},enumerable:!1,configurable:!0}),FocusableComponent.prototype.focus=function(){this.element.classList.add("focused"),this.trigger(new a.Focused({component:this,element:this.element}))},FocusableComponent.prototype.blur=function(){this.element.classList.remove("focused")},FocusableComponent.prototype.getBoundingRect=function(){var e=r.getGlobalRect(this.element);return e?new n.Rect(e.left,e.top,e.width,e.height):void 0},FocusableComponent.prototype.getFocusLayer=function(){return"main"},FocusableComponent.prototype.executeFocusEvent=function(){return!1},FocusableComponent.prototype.modifyFocusEvent=function(e){return e},FocusableComponent.prototype.allowHorizontalCirculation=function(){return!1},FocusableComponent.prototype.onRegister=function(e){e.target.contains(this.element)&&this.getBoundingRect()&&e.detail.push(this)},FocusableComponent}(i);o.FocusableComponent=l})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t=function(e){function FocusableDataComponent(t,o){var a=e.call(this,t)||this;return a.data=o,a}return __extends(FocusableDataComponent,e),FocusableDataComponent.prototype.update=function(e){return this.data=e,this.render()},FocusableDataComponent}(e.FocusableComponent);e.FocusableDataComponent=t})(t=e.view||(e.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a=t.type.Action,i=e.util.DOM,r=t.util.DOMUtil,n=t.util.Focus,l=function(e){function Header(){var t=e.call(this,"div")||this;return t.current="media",t.list=["media","search","setup","about"],t.append([t.createDiv("media","Media"),t.createDiv("search","Search"),t.createDiv("setup","Setup"),t.createDiv("about","About")]),t}return __extends(Header,e),Header.prototype.createDiv=function(e,t){var o=this,a=i.div(e,t);return a.addEventListener("click",function(){return o.showScreen(e)}),a},Header.prototype.showScreen=function(e){return this.trigger(new a.ShowScreen(e)),!0},Header.prototype.executeFocusEvent=function(t){var o=this.list.indexOf(this.current);return"left"===t.action&&0<o?this.showScreen(this.list[o-1]):"right"===t.action&&o<this.list.length-1?this.showScreen(this.list[o+1]):e.prototype.executeFocusEvent.call(this,t)},Header.prototype.getBoundingRect=function(){var t=e.prototype.getBoundingRect.call(this);if(t){var o=this.list.indexOf(this.current);if(!this.focused||-1===o)return new n.Rect(0,t.y,document.body.clientWidth,t.height);var a=r.getGlobalRect(this.element.children[o]);return a?new n.Rect(a.left,a.top,a.width,a.height):void 0}},Header}(o.FocusableComponent);o.Header=l})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=e.view.Component,a=e.util.DOM,i=e.util.Timeout,r=function(e){function Help(){var t=e.call(this,"div")||this;return t.hideTimeout=new i(3e3),t.log=a.div("log"),t.instructions=a.div("instructions"),t}return __extends(Help,e),Object.defineProperty(Help.prototype,"visible",{set:function(e){this.element.classList.toggle("visible",e)},enumerable:!1,configurable:!0}),Help.prototype.render=function(){this.clean();var t=function(e){return a.button(void 0,e)},o=function(e){return a.p(void 0,a.span(void 0,e))},i=o("left");a.append(i,[t("Left"),t("4")]);var r=o("right");a.append(r,[t("Right"),t("6")]);var n=o("up");a.append(n,[t("Up"),t("2")]);var l=o("down");a.append(l,[t("Down"),t("8")]);var d=o("submit");a.append(d,[t("Enter"),t("5")]);var s=o("back");return a.append(s,[t("Back"),t("Esc"),t("0")]),a.append(this.instructions,[a.h1("Navigation"),i,r,n,l,d,s]),this.append([this.instructions,this.log]),e.prototype.render.call(this)},Help.prototype.logKey=function(e){this.logMessage("Unexpected key <code>"+e.key+"</code> code <code>"+e.code+"</code> keyCode <code>"+e.keyCode+"</code>")},Help.prototype.logMessage=function(e){var t=this;this.visible=!0,this.hideTimeout.start(function(){return t.visible=!1});var o=a.p(void 0);o.innerHTML=e,a.append(this.log,o),30<this.log.children.length&&this.log.removeChild(this.log.firstChild),this.log.scrollTop=this.log.scrollHeight},Help}(o);t.Help=r})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a=t.type.Action,i=e.view.Component,r=e.util.DOM,n=function(e){function Navigation(){var t=e.call(this,"div")||this;return t.left=r.span("left"),t.right=r.span("right"),t.up=r.span("up"),t.down=r.span("down"),t.append([t.left,t.right,t.up,t.down]),t.left.addEventListener("click",function(){return t.triggerAction("left")}),t.right.addEventListener("click",function(){return t.triggerAction("right")}),t.up.addEventListener("click",function(){return t.triggerAction("up")}),t.down.addEventListener("click",function(){return t.triggerAction("down")}),t}return __extends(Navigation,e),Navigation.prototype.triggerAction=function(e){this.trigger(new a.EmulateFocusAction(e))},Navigation}(i);o.Navigation=n})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=e.view.DataComponent,a=e.util.DOM,i=e.util.Timeout,r=function(e){function Notification(){var t=e.call(this,"div",void 0)||this;return t.hideTimeout=new i(3e3),t}return __extends(Notification,e),Object.defineProperty(Notification.prototype,"visible",{set:function(e){this.element.classList.toggle("visible",e)},enumerable:!1,configurable:!0}),Notification.prototype.update=function(t){var o=this;return this.hideTimeout.stop(),t&&this.hideTimeout.start(function(){return o.visible=!1}),e.prototype.update.call(this,t)},Notification.prototype.render=function(){if(this.clean(),this.visible=!!this.data,this.data){var t=a.p(void 0);this.data.html?t.innerHTML=this.data.message:t.textContent=this.data.message,this.append([a.h1(this.data.title),t])}return e.prototype.render.call(this)},Notification}(o);t.Notification=r})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=e.tv.type.Action,a=e.view.Component,i=e.tv.view.FocusableComponent,r=function(e){function OSK(){var t=e.call(this,"div")||this;return t.append(["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","SPACE","DEL"].map(function(e){return new n(e).render()})),t}return __extends(OSK,e),OSK}(a);t.OSK=r;var n=function(e){function Key(t){var o=e.call(this,"button")||this;return o.action=t,o.type="insert","SPACE"===o.action&&(o.type="space"),"DEL"===o.action&&(o.type="del"),o.element.textContent=t,o.element.classList.add("action-"+t),o.element.addEventListener("click",o.onClick.bind(o)),o}return __extends(Key,e),Key.prototype.executeFocusEvent=function(t){return"submit"===t.action?(this.submit(),!0):e.prototype.executeFocusEvent.call(this,t)},Key.prototype.allowHorizontalCirculation=function(){return!0},Key.prototype.submit=function(){this.trigger(new o.OSKKeySubmit({value:this.action,type:this.type}))},Key.prototype.onClick=function(){this.trigger(new o.RequestFocus({component:this,element:this.element})),this.submit()},Key}(i)})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=e.view.DataComponent,a=e.util.DOM,i=function(e){function Pair(t){return e.call(this,"div",t)||this}return __extends(Pair,e),Pair.prototype.render=function(){this.clean();var t=a.p();return t.innerHTML="Visit <a href=\"https://ymovie.streamcinema.cz/#/setup\">ymovie.streamcinema.cz/#/setup</a> and follow instructions for TV pairing.",this.append([a.h1(this.data),t]),e.prototype.render.call(this)},Pair}(o);t.Pair=i})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o=e.tv.type.Action,a=e.view.Component,i=function(e){function Screen(t){var a=e.call(this,"div")||this;return a.active=!1,a.context=t,a.element.classList.add("Screen"),a.listen(o.Focused,a.onFocused.bind(a)),a}return __extends(Screen,e),Object.defineProperty(Screen.prototype,"isActive",{get:function(){return this.active},enumerable:!1,configurable:!0}),Screen.prototype.activate=function(e){this.active=!0,e&&this.trigger(new o.RequestFocus(this.lastFocus))},Screen.prototype.deactivate=function(){this.active=!1},Screen.prototype.onFocused=function(e){this.lastFocus=e.detail},Screen}(a);t.Screen=i})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o;(function(o){var a=e.util.DOM,i=function(e){function AboutScreen(){return null!==e&&e.apply(this,arguments)||this}return __extends(AboutScreen,e),AboutScreen.prototype.render=function(){return this.append(a.h1("About")),e.prototype.render.call(this)},AboutScreen}(t.Screen);o.AboutScreen=i})(o=t.about||(t.about={}))})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a;(function(a){var i=t.type.Action,r=e.view.DataComponent,n=e.util.DOM,l=e.type.Media,d=e.util.Timeout,s=e.util.Thumbnail,p=e.util.Util,c=function(e){function Detail(t){var a=e.call(this,"div",void 0)||this;return a.background=new u,a.container=n.div("container"),a.navigation=new o.Navigation().render(),a.streams=new g(t),a.append(a.background.render()),a.element.addEventListener("wheel",a.onWheel.bind(a)),a}return __extends(Detail,e),Detail.prototype.render=function(){return this.data instanceof l.Base?(n.clean(this.container),n.append(this.container,this.renderBase(this.data)),this.append([this.container,this.streams.render(),this.navigation])):(n.remove(this.container),n.remove(this.streams.element),n.remove(this.navigation)),e.prototype.render.call(this)},Detail.prototype.update=function(t){return t===this.data?this.element:(this.background.update(null===t||void 0===t?void 0:t.fanart),this.streams.update(void 0),e.prototype.update.call(this,t))},Detail.prototype.updateStreams=function(e){var t=e.streams.sort(function(e,t){return(e.width||0)-(t.width||0)||(e.size||0)-(t.size||0)});this.streams.update({media:e.media,streams:t});var o=this.streams.getFirst();o&&this.trigger(new i.RequestFocus({component:o,element:o.element}))},Detail.prototype.renderBase=function(e){var t=e.title,o=void 0;return e instanceof l.Episode?(t=e.title||e.seriesTitle,o=e.subtitle):e instanceof l.Season&&(t=e.seriesTitle,o=e.subtitle),[n.h1(t),o?n.h2(o):void 0,n.div("extra",[e.rating?n.span("rating",e.rating):void 0,e instanceof l.Scc&&e.year?n.span("year",e.year):void 0,e instanceof l.PlayableScc&&e.duration?n.span("duration",p.formatDuration(e.duration)):void 0,e instanceof l.PlayableScc&&e.genres?n.span("genres",e.genres):void 0]),e instanceof l.Scc?n.p("plot",e.plot):void 0]},Detail.prototype.onWheel=function(e){var t=0>e.deltaY?"up":"down";this.trigger(new i.EmulateFocusAction(t))},Detail}(r);a.Detail=c;var u=function(e){function Background(){var t=e.call(this,"div",void 0)||this;return t.timeout=new d(1e3),t.image=n.img(void 0,""),t.image.addEventListener("load",t.onImageLoad.bind(t)),t.append(t.image),t}return __extends(Background,e),Object.defineProperty(Background.prototype,"visible",{set:function(e){this.element.classList.toggle("visible",e)},enumerable:!1,configurable:!0}),Background.prototype.render=function(){var t=this;return this.visible=!1,this.data?this.timeout.start(function(){return t.image.src=s.largeBackground(t.data)||""}):this.timeout.stop(),e.prototype.render.call(this)},Background.prototype.onImageLoad=function(){this.visible=!0},Background}(r),g=function(e){function Streams(t){var a=e.call(this,"div",void 0)||this;return a.pair=new o.Pair(t.deviceId),a.listen(i.Focused,a.onStreamFocused.bind(a)),a}return __extends(Streams,e),Streams.prototype.getFirst=function(){return this.first},Streams.prototype.render=function(){if(this.clean(),this.first=void 0,t.util.Transform.on(this.element,"none"),this.append(this.pair.render()),this.data)for(var o=0,a=this.data.streams;o<a.length;o++){var i=a[o],r=new y({media:this.data.media,stream:i});this.first||(this.first=r),this.append(r.render())}return e.prototype.render.call(this)},Streams.prototype.onStreamFocused=function(e){var o=e.detail.element;t.util.Transform.on(this.element,"translateY("+-o.offsetTop+"px)")},Streams}(r),y=function(e){function Stream(t){var o=e.call(this,"div",t)||this;return o.element.addEventListener("click",o.onClick.bind(o)),o.listenGlobal(i.StreamUrlResolved,o.onStreamUrlResolved.bind(o)),o}return __extends(Stream,e),Stream.prototype.getFocusLayer=function(){return"stream"},Stream.prototype.submit=function(){this.loading=!0,this.trigger(new i.Play(this.data))},Stream.prototype.executeFocusEvent=function(t){return"back"===t.action||"left"===t.action?(this.trigger(new i.BlurStreams),!0):"submit"===t.action?(this.submit(),!0):e.prototype.executeFocusEvent.call(this,t)},Stream.prototype.render=function(){var t=this.data.stream;return this.clean(),this.append([this.add("resolution",t.width+"x"+t.height),this.add("size",p.formatSize(t.size)),n.div("extra",[this.add("language",t.language),this.add("subtitles",t.subtitles),this.add("hdr",t.hdr?"HDR":void 0),this.add("3d",t.is3d?"3D":void 0),this.add("codec",t.videoCodec+"+"+t.audioCodec)])]),e.prototype.render.call(this)},Stream.prototype.add=function(e,t){return t?n.span(e,t):void 0},Stream.prototype.onClick=function(){this.trigger(new i.RequestFocus({component:this,element:this.element})),this.submit()},Stream.prototype.onStreamUrlResolved=function(e){e.detail.stream===this.data.stream&&(this.loading=!1)},Stream}(o.FocusableDataComponent)})(a=o.media||(o.media={}))})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a;(function(a){var i=t.type.Action,r=t.util.ClassName,n=e.util.DOM,l=e.type.Media,d=function(e){function MediaScreenBase(t){var o=e.call(this,t)||this;return o._onCatalogueLoaded=o.onCatalogueLoaded.bind(o),o._onStreamsLoaded=o.onStreamsLoaded.bind(o),o.element.classList.add("MediaScreenBase"),o.detail=new a.Detail(t),o.rowContainer=n.div("rows"),o.updateActiveFocus("rows"),o.listen(i.CatalogueItemFocused,o.onCatalogueItemFocused.bind(o)),o.detail.listen(i.Focused,o.onDetailFocused.bind(o)),o.listen(i.BlurStreams,o.onBlurStreams.bind(o)),o.listen(i.CatalogueItemSelected,o.onCatalogueItemSelected.bind(o)),o}return __extends(MediaScreenBase,e),MediaScreenBase.prototype.activate=function(t){e.prototype.activate.call(this,t),this.listenGlobal(i.CatalogueLoaded,this._onCatalogueLoaded),this.listenGlobal(i.StreamsLoaded,this._onStreamsLoaded)},MediaScreenBase.prototype.deactivate=function(){this.unlistenGlobal(i.CatalogueLoaded,this._onCatalogueLoaded),this.unlistenGlobal(i.StreamsLoaded,this._onStreamsLoaded),e.prototype.deactivate.call(this)},MediaScreenBase.prototype.render=function(){return this.append([this.detail.render(),this.rowContainer,new o.Navigation().render()]),e.prototype.render.call(this)},MediaScreenBase.prototype.appendCatalogue=function(e,t){if(e.length){var o=new a.Row(e);n.append(this.rowContainer,o.render()),t&&this.trigger(new i.RequestFocus({component:o,element:o.element}))}},MediaScreenBase.prototype.removeCatalogues=function(){n.clean(this.rowContainer)},MediaScreenBase.prototype.updateActiveFocus=function(e){r.updateType(this.element,"focus",e)},MediaScreenBase.prototype.getActiveFocus=function(){return r.getType(this.element,"focus")},MediaScreenBase.prototype.onCatalogueItemSelected=function(e){for(var t=e.detail.element,o=this.rowContainer;o.lastChild&&!o.lastChild.contains(t);)n.remove(o.lastChild)},MediaScreenBase.prototype.onCatalogueItemFocused=function(e){var o=e.detail,a=o.data,i=o.element;this.lastFocusedCatalogue=e.detail,this.updateActiveFocus("rows"),this.detail.update(a instanceof l.Base?a:void 0);for(var r=this.rowContainer,n="up",d=r.firstElementChild;d;d=d.nextElementSibling)d.contains(i)?(n="down",d.classList.remove("up"),d.classList.remove("down"),t.util.Transform.on(r,"translateY("+-d.offsetTop+"px)")):(d.classList.add(n),d.classList.remove("down"==n?"up":"down"))},MediaScreenBase.prototype.onDetailFocused=function(){this.updateActiveFocus("detail")},MediaScreenBase.prototype.onBlurStreams=function(){var e=this.lastFocusedCatalogue;e&&this.trigger(new i.RequestFocus({component:e.component,element:e.element}))},MediaScreenBase.prototype.onCatalogueLoaded=function(e){e.detail.newRow&&this.appendCatalogue(e.detail.catalogue,!0)},MediaScreenBase.prototype.onStreamsLoaded=function(e){this.detail.updateStreams(e.detail)},MediaScreenBase}(o.Screen);a.MediaScreenBase=d})(a=o.media||(o.media={}))})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(t){var o;(function(t){var o=e.api.Scc,a=function(e){function MediaScreen(){return null!==e&&e.apply(this,arguments)||this}return __extends(MediaScreen,e),MediaScreen.prototype.getMenu=function(){return this.context.menu.map(function(e){return e instanceof o.CatalogueLink?new o.CatalogueLink(e.group,e.label,o.Api.setLimit(e.url,10),e.subtitle,e.page):e})},MediaScreen.prototype.activate=function(t){e.prototype.activate.call(this,t),this.rowContainer.children.length||this.appendCatalogue(this.getMenu(),t)},MediaScreen}(t.MediaScreenBase);t.MediaScreen=a})(o=t.media||(t.media={}))})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a;(function(a){var i=t.type.Action,r=t.type.Catalogue,n=e.view.DataComponent,l=e.util.DOM,d=t.util.DOMUtil,s=t.util.Focus,p=e.type.Media,c=e.api.Scc,u=e.util.Thumbnail,g=function(e){function Row(t){var o=e.call(this,"div",t)||this;return o.items=[],o.listenGlobal(i.CatalogueLoaded,o.onCatalogueLoaded.bind(o)),o.element.addEventListener("wheel",o.onWheel.bind(o)),o.element.addEventListener("mousemove",o.onMouseMove.bind(o)),o}return __extends(Row,e),Row.prototype.getLastItemLink=function(){var e=this.data.length?this.data[this.data.length-1]:void 0;return e&&(this.isMoreLink(e)?e:void 0)},Row.prototype.isMoreLink=function(e){return!!(e instanceof c.CatalogueLink&&e.page)},Row.prototype.render=function(){this.clean();for(var t,o=0,a=this.data;o<a.length;o++)t=a[o],this.appendData(t);return e.prototype.render.call(this)},Row.prototype.appendData=function(e){var t=this;if(!this.isMoreLink(e)){var o=new y(e);o.element.addEventListener("click",function(){t.focusItem(o),t.submit()}),this.items.push(o),this.append(o.render())}this.current||this.focusItem(this.items[0])},Row.prototype.focus=function(){e.prototype.focus.call(this),this.focusCurrent()},Row.prototype.focusItem=function(e){var t;null===(t=this.current)||void 0===t?void 0:t.element.classList.remove("focused"),this.current=e,this.current.element.classList.add("focused"),this.focusCurrent()},Row.prototype.focusCurrent=function(){var e=this.current;if(e&&(t.util.Transform.on(this.element,"translateX("+-e.element.offsetLeft+"px)"),this.trigger(new i.CatalogueItemFocused({component:this,data:e.data,element:e.element})),!this.loading)){var o=this.getLastItemLink();if(o&&!(2>this.items.length)){var a=d.getGlobalRect(this.items[this.items.length-2].element);a&&a.left<document.body.clientWidth&&(this.loading=!0,this.trigger(new i.RequestMoreItems(o)))}}},Row.prototype.submit=function(){var e=this.current;e&&(e.loading=!0,this.trigger(new i.CatalogueItemSelected({component:this,data:e.data,element:e.element})))},Row.prototype.executeFocusEvent=function(t){if("submit"===t.action)return this.submit(),!0;var o=this.current?this.items.indexOf(this.current):-1;return"left"===t.action&&0<o?(this.focusItem(this.items[o-1]),!0):"right"===t.action&&-1<o&&o<this.items.length-1?(this.focusItem(this.items[o+1]),!0):e.prototype.executeFocusEvent.call(this,t)},Row.prototype.modifyFocusEvent=function(t){return"back"===t.action?{action:"up",repeated:t.repeated}:e.prototype.modifyFocusEvent.call(this,t)},Row.prototype.getBoundingRect=function(){var t=e.prototype.getBoundingRect.call(this);return t?new s.Rect(0,t.y,document.body.clientWidth,t.height):t},Row.prototype.onCatalogueLoaded=function(e){if(e.detail.item===this.getLastItemLink()){this.loading=!1;for(var t,o=0,a=e.detail.catalogue;o<a.length;o++)t=a[o],this.data.push(t),this.appendData(t)}},Row.prototype.onWheel=function(e){var t=0>e.deltaY?"left":"right";this.trigger(new i.EmulateFocusAction(t))},Row.prototype.onMouseMove=function(){this.focused||this.trigger(new i.RequestFocus({component:this,element:this.element}))},Row}(o.FocusableDataComponent);a.Row=g;var y=function(e){function Item(t){var o=e.call(this,"div",t)||this;return o._onImageError=o.onImageError.bind(o),o.listenGlobal(i.CatalogueLoaded,o.onCatalogueLoaded.bind(o)),o.listenGlobal(i.StreamsLoaded,o.onStreamsLoaded.bind(o)),o}return __extends(Item,e),Item.prototype.render=function(){return this.clean(),this.data instanceof c.CatalogueLink||this.data instanceof r.Callback?(this.append(l.span("label",this.data.label)),this.element.classList.add(this.data.group)):this.data instanceof p.Base&&this.append(this.renderPoster(this.data.poster)),e.prototype.render.call(this)},Item.prototype.renderPoster=function(e){var t=u.smallPoster(e)||Item.DEFAULT_POSTER_URL,o=l.img(void 0,t);return o.width=100,o.loading="lazy",o.addEventListener("error",this._onImageError),o.classList.toggle("missing",!e),o},Item.prototype.onImageError=function(e){var t=e.target;t.removeEventListener("error",this._onImageError),t.src=Item.DEFAULT_POSTER_URL,t.classList.add("error")},Item.prototype.onCatalogueLoaded=function(e){this.data===e.detail.item&&(this.loading=!1)},Item.prototype.onStreamsLoaded=function(e){this.data===e.detail.media&&(this.loading=!1)},Item.DEFAULT_POSTER_URL="data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z\"/></svg>",Item}(n)})(a=o.media||(o.media={}))})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var a,t=Math.max,o=Math.min;(function(a){var i;(function(i){var r;(function(r){var n=e.tv.type.Action,l=e.type.Action.Base,d=e.util.DOM,s=a.util.DOMUtil,p=a.util.Keyboard,c=e.util.Timeout,u=e.util.Util,g=function(e){function PlayerScreen(t){var o=e.call(this,t)||this;return o.controls=new y,o.tracks=d.div("tracks"),o.seekTimer=new c(1e3),o.idleTimer=new c(2e3),o._onGlobalKeyDown=o.onGlobalKeyDown.bind(o),o.listen(h,o.onSeekBy.bind(o)),o.listen(f,o.onSeekTo.bind(o)),o.listen(m,o.onTogglePlay.bind(o)),o.listen(b,o.onFocusAudioTracks.bind(o)),o.listen(v,o.onFocusTextTracks.bind(o)),o.listen(n.AudioTrackSelected,o.onAudioTrackSelected.bind(o)),o.listen(n.TextTrackSelected,o.onTextTrackSelected.bind(o)),o.element.addEventListener("mousemove",o.onMouseMove.bind(o)),o}return __extends(PlayerScreen,e),Object.defineProperty(PlayerScreen.prototype,"idle",{set:function(e){var t=this;this.idleTimer.stop(),e||this.idleTimer.start(function(){return t.idle=!0}),this.element.classList.toggle("idle",e)},enumerable:!1,configurable:!0}),PlayerScreen.prototype.update=function(e){var t,o;return this.data=e,this.idle=!e,null===(t=this.audioTracks)||void 0===t?void 0:t.remove(),this.audioTracks=void 0,null===(o=this.textTracks)||void 0===o?void 0:o.remove(),this.textTracks=void 0,this.seekTimer.stop(),this.controls.update({duration:0,currentTime:0}),this.render()},PlayerScreen.prototype.focusControls=function(){this.trigger(new n.RequestFocus({component:this.controls,element:this.controls.element}))},PlayerScreen.prototype.activate=function(t){e.prototype.activate.call(this,t),this.focusControls(),this.listenGlobal(n.GlobalKeyDown,this._onGlobalKeyDown)},PlayerScreen.prototype.deactivate=function(){this.unlistenGlobal(n.GlobalKeyDown,this._onGlobalKeyDown),e.prototype.deactivate.call(this),this.update()},PlayerScreen.prototype.render=function(){return this.clean(),this.loading=!!this.data,this.video&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load(),this.video=void 0),this.data&&(this.video=d.create("video"),this.video.src=this.data.url,this.video.autoplay=!0,this.video.addEventListener("timeupdate",this.onVideoTimeUpdate.bind(this)),this.video.addEventListener("loadeddata",this.onVideoLoadedData.bind(this)),this.video.addEventListener("loadedmetadata",this.onVideoLoadedMetadata.bind(this)),this.video.addEventListener("seeking",this.onVideoSeeking.bind(this)),this.video.addEventListener("seeked",this.onVideoSeeked.bind(this)),this.video.addEventListener("playing",this.onVideoPlaying.bind(this)),this.video.addEventListener("waiting",this.onVideoWaiting.bind(this)),this.video.addEventListener("play",this.onVideoPlay.bind(this)),this.video.addEventListener("pause",this.onVideoPause.bind(this)),this.video.addEventListener("error",this.onVideoError.bind(this)),this.append([this.video,this.tracks,this.controls.render()])),e.prototype.render.call(this)},PlayerScreen.prototype.updateControls=function(){if(this.video){var e=this.video.duration,t=this.seekTimer.running?this.controls.data.currentTime:this.video.currentTime;this.controls.update({duration:e,currentTime:t}),this.element.classList.toggle("paused",this.video.paused)}},PlayerScreen.prototype.seek=function(e){var a;if(null!==(a=this.video)&&void 0!==a&&a.duration){var i=this.video.duration,r=t(0,o(i,e));this.controls.update({duration:i,currentTime:r}),this.seekTimer.start(this.onApplySeek.bind(this))}},PlayerScreen.prototype.play=function(){this.video&&this.video.play()},PlayerScreen.prototype.togglePlay=function(){this.video&&(this.video.paused?this.video.play():this.video.pause())},PlayerScreen.prototype.stop=function(){this.trigger(new n.GoBack)},PlayerScreen.prototype.onVideoTimeUpdate=function(){this.updateControls()},PlayerScreen.prototype.onVideoLoadedData=function(){var e,t,o;null===(e=this.audioTracks)||void 0===e?void 0:e.remove(),this.audioTracks=r.AudioTracks.create(this.video),this.audioTracks&&d.append(this.tracks,this.audioTracks.render()),null===(t=this.textTracks)||void 0===t?void 0:t.remove(),this.textTracks=r.TextTracks.create(this.video,null===(o=this.data)||void 0===o?void 0:o.stream.subtitleList),this.textTracks&&d.append(this.tracks,this.textTracks.render()),this.updateControls()},PlayerScreen.prototype.onVideoLoadedMetadata=function(){this.updateControls()},PlayerScreen.prototype.onVideoSeeking=function(){this.updateControls(),this.loading=!0},PlayerScreen.prototype.onVideoSeeked=function(){this.updateControls(),this.loading=!1},PlayerScreen.prototype.onVideoPlaying=function(){this.updateControls(),this.loading=!1},PlayerScreen.prototype.onVideoWaiting=function(){this.updateControls(),this.loading=!0},PlayerScreen.prototype.onVideoPlay=function(){this.updateControls()},PlayerScreen.prototype.onVideoPause=function(){this.updateControls()},PlayerScreen.prototype.onVideoError=function(){var e,t,o,a;this.loading=!1;var i="Playback failed with code <strong>"+((null===(t=null===(e=this.video)||void 0===e?void 0:e.error)||void 0===t?void 0:t.code)||0)+"</strong> and message <strong>"+((null===(a=null===(o=this.video)||void 0===o?void 0:o.error)||void 0===a?void 0:a.message)||"empty")+"</strong>.";this.trigger(new n.ShowNotification({title:"Player Error",message:i,html:!0})),this.stop()},PlayerScreen.prototype.onTogglePlay=function(){this.togglePlay()},PlayerScreen.prototype.onAudioTrackSelected=function(){this.focusControls()},PlayerScreen.prototype.onTextTrackSelected=function(){this.focusControls()},PlayerScreen.prototype.onSeekBy=function(e){this.seek(this.controls.data.currentTime+e.detail)},PlayerScreen.prototype.onSeekTo=function(e){this.seek(e.detail)},PlayerScreen.prototype.onApplySeek=function(){this.video&&(this.video.currentTime=this.controls.data.currentTime)},PlayerScreen.prototype.onMouseMove=function(){this.idle=!1},PlayerScreen.prototype.onFocusAudioTracks=function(e){this.audioTracks&&(e.detail.result=!0,this.trigger(new n.RequestFocus({component:this.audioTracks,element:this.audioTracks.element})))},PlayerScreen.prototype.onFocusTextTracks=function(e){this.textTracks&&(e.detail.result=!0,this.trigger(new n.RequestFocus({component:this.textTracks,element:this.textTracks.element})))},PlayerScreen.prototype.onGlobalKeyDown=function(e){this.idle=!1;var t=e.detail;p.isPlayPause(t)?(this.togglePlay(),t.preventDefault()):p.isPlay(t)?(this.play(),t.preventDefault()):p.isStop(t)&&(this.stop(),t.preventDefault())},PlayerScreen}(i.Screen);r.PlayerScreen=g;var y=function(e){function Controls(){var t=e.call(this,"div",{duration:0,currentTime:0})||this;return t.thumb=d.div("thumb"),t.time=d.div("time"),t.append([t.thumb,t.time]),t.thumb.addEventListener("click",t.onThumbClick.bind(t)),t.element.addEventListener("click",t.onClick.bind(t)),t}return __extends(Controls,e),Controls.prototype.render=function(){return this.thumb.style.left=(100*(this.data.currentTime/this.data.duration)||0)+"%",this.time.innerHTML=u.formatDuration(this.data.currentTime)+" / "+u.formatDuration(this.data.duration),e.prototype.render.call(this)},Controls.prototype.submit=function(){this.trigger(new m)},Controls.prototype.executeFocusEvent=function(t){if("right"===t.action)return this.trigger(new h(30)),!0;if("left"===t.action)return this.trigger(new h(-30)),!0;if("submit"===t.action)return this.submit(),!0;if("down"===t.action){var o=new b;return(this.trigger(o),!!o.data.result)||(o=new v,this.trigger(o),o.data.result)}return e.prototype.executeFocusEvent.call(this,t)},Controls.prototype.onThumbClick=function(e){e.stopImmediatePropagation(),this.submit()},Controls.prototype.onClick=function(e){var t=s.getGlobalRect(this.element);if(t){var o=(e.clientX-t.left)/t.width*this.data.duration;this.trigger(new f(o))}},Controls}(i.FocusableDataComponent),m=function(e){function TogglePlay(){return e.call(this,void 0)||this}return __extends(TogglePlay,e),TogglePlay}(l),h=function(e){function SeekBy(){return null!==e&&e.apply(this,arguments)||this}return __extends(SeekBy,e),SeekBy}(l),f=function(e){function SeekTo(){return null!==e&&e.apply(this,arguments)||this}return __extends(SeekTo,e),SeekTo}(l),b=function(e){function FocusAudioTracks(){return e.call(this,{result:!1})||this}return __extends(FocusAudioTracks,e),FocusAudioTracks}(l),v=function(e){function FocusTextTracks(){return e.call(this,{result:!1})||this}return __extends(FocusTextTracks,e),FocusTextTracks}(l)})(r=i.player||(i.player={}))})(i=a.view||(a.view={}))})(a=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(t){var o;(function(o){var a;(function(a){var i=t.type.Action,r=e.util.DOM,n=t.util.Focus,l=o.FocusableDataComponent,d=function(e){function Tracks(t,o){var a=e.call(this,"ul",t)||this;return a.current=o,a.highlight=a.current,a}return __extends(Tracks,e),Tracks.prototype.focus=function(){this.highlight=this.current,this.render(),e.prototype.focus.call(this)},Tracks.prototype.executeFocusEvent=function(t){var o=this.data.indexOf(this.highlight);return"up"===t.action?(0<o&&this.focusTrack(this.data[o-1]),!0):"down"===t.action?(o<this.data.length-1&&this.focusTrack(this.data[o+1]),!0):"submit"===t.action?(this.selectTrack(this.highlight),!0):e.prototype.executeFocusEvent.call(this,t)},Tracks.prototype.focusTrack=function(e){this.highlight=e,this.render()},Tracks.prototype.selectTrack=function(e){this.current=e,this.render()},Tracks.prototype.getBoundingRect=function(){var t=e.prototype.getBoundingRect.call(this),o=document.body;return t?new n.Rect(t.x+o.clientWidth,0,t.width,o.clientHeight):void 0},Tracks}(l),s=function(e){function AudioTracks(t){return e.call(this,t,t.find(function(e){return e.enabled})||t[0])||this}return __extends(AudioTracks,e),AudioTracks.create=function(e){var t=e.audioTracks;if(t&&t.length&&!(2>t.length)){for(var o=[],a=0;a<t.length;a++)o.push(t[a]);return o.sort(this.sort),new AudioTracks(o)}},AudioTracks.sort=function(e,t){var o=e.language.toUpperCase()||"???",a=t.language.toUpperCase()||"???";return o<a?-1:o>a?1:0},AudioTracks.prototype.render=function(){var t=this;this.clean();for(var o,a=function(e){var o=r.create("li",void 0,e.language||"???");o.addEventListener("click",function(){return t.selectTrack(e)}),o.classList.toggle("current",e===i.current),o.classList.toggle("focused",e===i.highlight),i.append(o)},i=this,n=0,l=this.data;n<l.length;n++)o=l[n],a(o);return e.prototype.render.call(this)},AudioTracks.prototype.selectTrack=function(t){e.prototype.selectTrack.call(this,t);for(var o,a=0,r=this.data;a<r.length;a++)o=r[a],o.enabled=!1;this.current.enabled=!0,this.trigger(new i.AudioTrackSelected(this.current))},AudioTracks}(d);a.AudioTracks=s;var p=function(e){function TextTracks(t,o){return e.call(this,t,t.find(function(e){return"showing"===e.source.mode})||o)||this}return __extends(TextTracks,e),TextTracks.create=function(e,t){var o,a=e.textTracks;if(a&&a.length&&!(1>a.length)){for(var r,n=[],l=(null===t||void 0===t?void 0:t.length)===a.length,d=0;d<a.length;d++)r=(l?t[d]:void 0)||(null===(o=a[d])||void 0===o?void 0:o.language)||"???",n.push({source:a[d],label:r});n.sort(this.sort);var s={source:e.addTextTrack("captions","off","off"),label:"off"};return n.push(s),new TextTracks(n,s)}},TextTracks.sort=function(e,t){return e.label<t.label?-1:e.label>t.label?1:0},TextTracks.prototype.render=function(){var t=this;this.clean();for(var o,a=function(e){var o=r.create("li",void 0,e.label);o.addEventListener("click",function(){return t.selectTrack(e)}),o.classList.toggle("current",e===i.current),o.classList.toggle("focused",e===i.highlight),i.append(o)},i=this,n=0,l=this.data;n<l.length;n++)o=l[n],a(o);return e.prototype.render.call(this)},TextTracks.prototype.selectTrack=function(t){e.prototype.selectTrack.call(this,t);for(var o,a=0,r=this.data;a<r.length;a++)o=r[a],o.source.mode="disabled";this.current&&(this.current.source.mode="showing"),this.trigger(new i.TextTrackSelected(this.current.source))},TextTracks}(d);a.TextTracks=p})(a=o.player||(o.player={}))})(o=t.view||(t.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var a,t=Math.max,o=String.fromCharCode;(function(a){var i;(function(a){var i;(function(i){var r=e.tv.type.Action,n=e.util.DOM,l=e.util.Timeout,d=function(e){function SearchScreen(t){var o=e.call(this,t)||this;return o.osk=new a.OSK,o.input=n.input(void 0,"q","","Search query"),o.searchTimeout=new l(1e3),o.lastSearch="",o._onGlobalKeyDown=o.onGlobalKeyDown.bind(o),o._onSearchCatalogueLoaded=o.onSearchCatalogueLoaded.bind(o),o.updateActiveFocus("osk"),o.osk.listen(r.OSKKeySubmit,o.onOSKKeySubmit.bind(o)),o.osk.listen(r.Focused,o.onOSKKeyFocused.bind(o)),o.input.addEventListener("input",o.resetSearchTimeout.bind(o)),o.input.addEventListener("change",o.resetSearchTimeout.bind(o)),o}return __extends(SearchScreen,e),SearchScreen.prototype.activate=function(t){e.prototype.activate.call(this,t),this.listenGlobal(r.GlobalKeyDown,this._onGlobalKeyDown),this.listenGlobal(r.SearchCatalogueLoaded,this._onSearchCatalogueLoaded)},SearchScreen.prototype.deactivate=function(){this.searchTimeout.stop(),this.unlistenGlobal(r.GlobalKeyDown,this._onGlobalKeyDown),this.unlistenGlobal(r.SearchCatalogueLoaded,this._onSearchCatalogueLoaded),e.prototype.deactivate.call(this)},SearchScreen.prototype.render=function(){return this.append([this.osk.render(),this.input]),e.prototype.render.call(this)},SearchScreen.prototype.resetSearchTimeout=function(){this.searchTimeout.stop(),this.input.value.length&&this.input.value!=this.lastSearch&&this.searchTimeout.start(this.onSearch.bind(this))},SearchScreen.prototype.delaySearchTimeout=function(){this.searchTimeout.running&&this.resetSearchTimeout()},SearchScreen.prototype.applyInsert=function(e){this.input.value+=e,this.resetSearchTimeout()},SearchScreen.prototype.applyDel=function(){var e=this.input;e.value=e.value.substr(0,t(e.value.length-1,0)),this.resetSearchTimeout()},SearchScreen.prototype.onGlobalKeyDown=function(e){if("osk"===this.getActiveFocus()){var t=e.detail,a=t.key||o(t.which||t.keyCode);a&&a.match(/^[a-z]$/i)?(t.preventDefault(),this.applyInsert(a)):" "===a?(t.preventDefault(),this.applyInsert(" ")):this.input.value&&("Backspace"===t.key||"Delete"===t.key||8===t.which||46===t.which)&&(t.preventDefault(),this.applyDel()),this.delaySearchTimeout()}},SearchScreen.prototype.onOSKKeyFocused=function(){this.updateActiveFocus("osk")},SearchScreen.prototype.onOSKKeySubmit=function(e){var t=e.detail,o=t.type,a=t.value;"del"===o?this.applyDel():"space"===o?this.applyInsert(" "):this.applyInsert(a)},SearchScreen.prototype.onSearch=function(){this.removeCatalogues(),this.lastSearch=this.input.value,this.loading=!0,this.trigger(new r.Search(this.input.value))},SearchScreen.prototype.onSearchCatalogueLoaded=function(e){this.loading=!1,this.appendCatalogue(e.detail,!1)},SearchScreen}(a.media.MediaScreenBase);i.SearchScreen=d})(i=a.search||(a.search={}))})(i=a.view||(a.view={}))})(a=e.tv||(e.tv={}))})(ymovie||(ymovie={}));var ymovie;(function(e){var t;(function(e){var t;(function(e){var t;(function(t){var o=function(t){function SetupScreen(){return null!==t&&t.apply(this,arguments)||this}return __extends(SetupScreen,t),SetupScreen.prototype.render=function(){return this.clean(),this.append(new e.Pair(this.context.deviceId).render()),t.prototype.render.call(this)},SetupScreen}(e.Screen);t.SetupScreen=o})(t=e.setup||(e.setup={}))})(t=e.view||(e.view={}))})(t=e.tv||(e.tv={}))})(ymovie||(ymovie={})),function(){ymovie.tv.view.App.init()}();</script>
</body>
</html>
